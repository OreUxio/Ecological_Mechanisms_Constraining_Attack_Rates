<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>LCOV - NewWeb.info - build/CLHEP_Evaluator.cc</title>
  <link rel="stylesheet" type="text/css" href="../gcov.css">
</head>

<body>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="title">LCOV - code coverage report</td></tr>
    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>

    <tr>
      <td width="100%">
        <table cellpadding=1 border=0 width="100%">
          <tr>
            <td width="10%" class="headerItem">Current view:</td>
            <td width="35%" class="headerValue"><a href="../index.html">top level</a> - <a href="index.html">build</a> - CLHEP_Evaluator.cc<span style="font-size: 80%;"> (source / <a href="CLHEP_Evaluator.cc.func-sort-c.html">functions</a>)</span></td>
            <td width="5%"></td>
            <td width="15%"></td>
            <td width="10%" class="headerCovTableHead">Hit</td>
            <td width="10%" class="headerCovTableHead">Total</td>
            <td width="15%" class="headerCovTableHead">Coverage</td>
          </tr>
          <tr>
            <td class="headerItem">Test:</td>
            <td class="headerValue">NewWeb.info</td>
            <td></td>
            <td class="headerItem">Lines:</td>
            <td class="headerCovTableEntry">395</td>
            <td class="headerCovTableEntry">571</td>
            <td class="headerCovTableEntryLo">69.2 %</td>
          </tr>
          <tr>
            <td class="headerItem">Date:</td>
            <td class="headerValue">2018-05-14 13:23:03</td>
            <td></td>
            <td class="headerItem">Functions:</td>
            <td class="headerCovTableEntry">15</td>
            <td class="headerCovTableEntry">46</td>
            <td class="headerCovTableEntryLo">32.6 %</td>
          </tr>
          <tr><td><img src="../glass.png" width=3 height=3 alt=""></td></tr>
        </table>
      </td>
    </tr>

    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
  </table>

  <table cellpadding=0 cellspacing=0 border=0>
    <tr>
      <td><br></td>
    </tr>
    <tr>
      <td>
<pre class="sourceHeading">          Line data    Source code</pre>
<pre class="source">
<a name="1"><span class="lineNum">       1 </span>            : // -*- C++ -*-</a>
<span class="lineNum">       2 </span>            : // $Id: CLHEP_Evaluator.cc 2500 2017-02-27 17:33:43Z axel $
<span class="lineNum">       3 </span>            : //
<span class="lineNum">       4 </span>            : // Lifed from CLHEP-2.0.4.0 (since CLHEP includes GPL 2 licensed code,
<span class="lineNum">       5 </span>            : // this file has a GPL 2 license, too)
<span class="lineNum">       6 </span>            : // ---------------------------------------------------------------------------
<span class="lineNum">       7 </span>            : 
<span class="lineNum">       8 </span>            : #include &quot;CLHEP_Evaluator.h&quot;
<span class="lineNum">       9 </span>            : 
<span class="lineNum">      10 </span>            : #include &lt;iostream&gt;
<span class="lineNum">      11 </span>            : #include &lt;cmath&gt;  // for pow()
<span class="lineNum">      12 </span>            : #include &lt;stack&gt;
<span class="lineNum">      13 </span>            : #include &lt;string&gt;
<span class="lineNum">      14 </span>            : #include &lt;hash_map&gt;
<span class="lineNum">      15 </span>            : #include &lt;string.h&gt;
<span class="lineNum">      16 </span>            : #include &lt;ctype.h&gt;
<span class="lineNum">      17 </span>            : #include &lt;errno.h&gt;
<span class="lineNum">      18 </span>            : #include &lt;stdlib.h&gt;       // for strtod()
<span class="lineNum">      19 </span>            : 
<span class="lineNum">      20 </span>            : using namespace std;
<span class="lineNum">      21 </span>            : 
<span class="lineNum">      22 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">      23 </span>            : // Fix non ISO C++ compliant cast from pointer to function
<span class="lineNum">      24 </span>            : // to void*, which is a pointer to an object
<span class="lineNum">      25 </span>            : typedef void (*voidfuncptr)();
<span class="lineNum">      26 </span><span class="lineCov">    1366920 : struct Item {</span>
<span class="lineNum">      27 </span>            :   enum { UNKNOWN, VARIABLE, EXPRESSION, FUNCTION } what;
<span class="lineNum">      28 </span>            :   double variable;
<span class="lineNum">      29 </span>            :   string expression;
<span class="lineNum">      30 </span>            :   // Fix non ISO C++ compliant cast from pointer to function
<span class="lineNum">      31 </span>            :   // to void*, which is a pointer to an object
<span class="lineNum">      32 </span>            :   //void   *function;
<span class="lineNum">      33 </span>            :   voidfuncptr function;
<span class="lineNum">      34 </span>            : 
<span class="lineNum">      35 </span><span class="lineCov">     187920 :   Item()         : what(UNKNOWN),   variable(0),expression(), function(0) {}</span>
<span class="lineNum">      36 </span><span class="lineCov">     183510 :   Item(double x) : what(VARIABLE),  variable(x),expression(), function(0) {}</span>
<span class="lineNum">      37 </span><span class="lineNoCov">          0 :   Item(string x) : what(EXPRESSION),variable(0),expression(x),function(0) {}</span>
<span class="lineNum">      38 </span><span class="lineCov">      17820 :   Item(voidfuncptr x) : what(FUNCTION),  variable(0),expression(), function(x) {}</span>
<span class="lineNum">      39 </span>            : };
<span class="lineNum">      40 </span>            : 
<span class="lineNum">      41 </span>            : class string_hash {
<span class="lineNum">      42 </span>            : public:
<span class="lineNum">      43 </span>            :   size_t operator()(const string &amp; skey) const {
<span class="lineNum">      44 </span><span class="lineCov">     284130 :     const char * key = skey.c_str();</span>
<span class="lineNum">      45 </span><span class="lineCov">     284130 :     size_t res = 0;</span>
<span class="lineNum">      46 </span><span class="lineCov">    1731150 :     while(*key) { res = res*31 + *key++; }</span>
<span class="lineNum">      47 </span>            :     return res;
<span class="lineNum">      48 </span>            :   }
<span class="lineNum">      49 </span>            : };
<span class="lineNum">      50 </span>            : 
<span class="lineNum">      51 </span>            : typedef char * pchar;
<span class="lineNum">      52 </span>            : typedef __gnu_cxx::hash_map&lt;string,Item,string_hash&gt; dic_type;
<span class="lineNum">      53 </span>            : 
<span class="lineNum">      54 </span><span class="lineCov">       1530 : struct Struct {</span>
<span class="lineNum">      55 </span>            :   dic_type theDictionary;
<span class="lineNum">      56 </span>            :   pchar    theExpression;
<span class="lineNum">      57 </span>            :   pchar    thePosition;
<span class="lineNum">      58 </span>            :   int      theStatus;
<span class="lineNum">      59 </span>            :   double   theResult;
<span class="lineNum">      60 </span>            : };
<span class="lineNum">      61 </span>            : 
<span class="lineNum">      62 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">      63 </span>            : #define EVAL HepTool::Evaluator
<span class="lineNum">      64 </span>            : 
<span class="lineNum">      65 </span>            : #define REMOVE_BLANKS \
<span class="lineNum">      66 </span>            : for(pointer=name;;pointer++) if (!isspace(*pointer)) break; \
<span class="lineNum">      67 </span>            : for(n=strlen(pointer);n&gt;0;n--) if (!isspace(*(pointer+n-1))) break
<span class="lineNum">      68 </span>            : 
<span class="lineNum">      69 </span>            : #define SKIP_BLANKS                      \
<span class="lineNum">      70 </span>            : for(;;pointer++) {                       \
<span class="lineNum">      71 </span>            :   c = (pointer &gt; end) ? '\0' : *pointer; \
<span class="lineNum">      72 </span>            :   if (!isspace(c)) break;                \
<span class="lineNum">      73 </span>            : }
<span class="lineNum">      74 </span>            : 
<span class="lineNum">      75 </span>            : #define EVAL_EXIT(STATUS,POSITION) endp = POSITION; return STATUS
<span class="lineNum">      76 </span>            : #define MAX_N_PAR 5
<span class="lineNum">      77 </span>            : 
<span class="lineNum">      78 </span>            : static const char sss[MAX_N_PAR+2] = &quot;012345&quot;;
<span class="lineNum">      79 </span>            : 
<span class="lineNum">      80 </span>            : enum { ENDL, LBRA, OR, AND, EQ, NE, GE, GT, LE, LT,
<span class="lineNum">      81 </span>            :        PLUS, MINUS, MULT, DIV, POW, RBRA, VALUE };
<span class="lineNum">      82 </span>            : 
<a name="83"><span class="lineNum">      83 </span>            : static int engine(pchar, pchar, double &amp;, pchar &amp;, const dic_type &amp;);</a>
<span class="lineNum">      84 </span>            : 
<span class="lineNum">      85 </span><span class="lineCov">      11340 : static int variable(const string &amp; name, double &amp; result,</span>
<span class="lineNum">      86 </span>            :                     const dic_type &amp; dictionary)
<span class="lineNum">      87 </span>            : /***********************************************************************
<span class="lineNum">      88 </span>            :  *                                                                     *
<span class="lineNum">      89 </span>            :  * Name: variable                                    Date:    03.10.00 *
<span class="lineNum">      90 </span>            :  * Author: Evgeni Chernyaev                          Revised:          *
<span class="lineNum">      91 </span>            :  *                                                                     *
<span class="lineNum">      92 </span>            :  * Function: Finds value of the variable.                              * 
<span class="lineNum">      93 </span>            :  *           This function is used by operand().                       *
<span class="lineNum">      94 </span>            :  *                                                                     *
<span class="lineNum">      95 </span>            :  * Parameters:                                                         *
<span class="lineNum">      96 </span>            :  *   name   - name of the variable.                                    *
<span class="lineNum">      97 </span>            :  *   result - value of the variable.                                   *
<span class="lineNum">      98 </span>            :  *   dictionary - dictionary of available variables and functions.     *
<span class="lineNum">      99 </span>            :  *                                                                     *
<span class="lineNum">     100 </span>            :  ***********************************************************************/
<span class="lineNum">     101 </span>            : {
<span class="lineNum">     102 </span><span class="lineCov">      11340 :   dic_type::const_iterator iter = dictionary.find(name);</span>
<span class="lineNum">     103 </span><span class="lineCov">      11340 :   if (iter == dictionary.end())</span>
<span class="lineNum">     104 </span>            :     return EVAL::ERROR_UNKNOWN_VARIABLE;
<span class="lineNum">     105 </span><span class="lineCov">      22680 :   Item item = iter-&gt;second;</span>
<span class="lineNum">     106 </span><span class="lineCov">      11340 :   switch (item.what) {</span>
<span class="lineNum">     107 </span>            :   case Item::VARIABLE:
<span class="lineNum">     108 </span><span class="lineCov">      11340 :     result = item.variable;</span>
<span class="lineNum">     109 </span><span class="lineCov">      11340 :     return EVAL::OK;</span>
<span class="lineNum">     110 </span>            :   case Item::EXPRESSION: {
<span class="lineNum">     111 </span><span class="lineNoCov">          0 :     pchar exp_begin = (char *)(item.expression.c_str());</span>
<span class="lineNum">     112 </span><span class="lineNoCov">          0 :     pchar exp_end   = exp_begin + strlen(exp_begin) - 1;</span>
<span class="lineNum">     113 </span><span class="lineNoCov">          0 :     if (engine(exp_begin, exp_end, result, exp_end, dictionary) == EVAL::OK)</span>
<span class="lineNum">     114 </span><span class="lineNoCov">          0 :       return EVAL::OK;</span>
<span class="lineNum">     115 </span>            :   }
<span class="lineNum">     116 </span>            :   default:
<span class="lineNum">     117 </span>            :     return EVAL::ERROR_CALCULATION_ERROR;
<span class="lineNum">     118 </span>            :   }
<a name="119"><span class="lineNum">     119 </span>            : }</a>
<span class="lineNum">     120 </span>            : 
<span class="lineNum">     121 </span><span class="lineNoCov">          0 : static int function(const string &amp; name, stack&lt;double&gt; &amp; par,</span>
<span class="lineNum">     122 </span>            :                     double &amp; result, const dic_type &amp; dictionary) 
<span class="lineNum">     123 </span>            : /***********************************************************************
<span class="lineNum">     124 </span>            :  *                                                                     *
<span class="lineNum">     125 </span>            :  * Name: function                                    Date:    03.10.00 *
<span class="lineNum">     126 </span>            :  * Author: Evgeni Chernyaev                          Revised:          *
<span class="lineNum">     127 </span>            :  *                                                                     *
<span class="lineNum">     128 </span>            :  * Function: Finds value of the function.                              * 
<span class="lineNum">     129 </span>            :  *           This function is used by operand().                       *
<span class="lineNum">     130 </span>            :  *                                                                     *
<span class="lineNum">     131 </span>            :  * Parameters:                                                         *
<span class="lineNum">     132 </span>            :  *   name   - name of the function.                                    *
<span class="lineNum">     133 </span>            :  *   par    - stack of parameters.                                     *
<span class="lineNum">     134 </span>            :  *   result - value of the function.                                   *
<span class="lineNum">     135 </span>            :  *   dictionary - dictionary of available variables and functions.     *
<span class="lineNum">     136 </span>            :  *                                                                     *
<span class="lineNum">     137 </span>            :  ***********************************************************************/
<span class="lineNum">     138 </span>            : {
<span class="lineNum">     139 </span><span class="lineNoCov">          0 :   int npar = par.size();</span>
<span class="lineNum">     140 </span><span class="lineNoCov">          0 :   if (npar &gt; MAX_N_PAR) return EVAL::ERROR_UNKNOWN_FUNCTION;</span>
<span class="lineNum">     141 </span>            : 
<span class="lineNum">     142 </span><span class="lineNoCov">          0 :   dic_type::const_iterator iter = dictionary.find(sss[npar]+name);</span>
<span class="lineNum">     143 </span><span class="lineNoCov">          0 :   if (iter == dictionary.end()) return EVAL::ERROR_UNKNOWN_FUNCTION;</span>
<span class="lineNum">     144 </span><span class="lineNoCov">          0 :   Item item = iter-&gt;second;</span>
<span class="lineNum">     145 </span>            : 
<span class="lineNum">     146 </span>            :   double pp[MAX_N_PAR];
<span class="lineNum">     147 </span><span class="lineNoCov">          0 :   for(int i=0; i&lt;npar; i++) { pp[i] = par.top(); par.pop(); }</span>
<span class="lineNum">     148 </span><span class="lineNoCov">          0 :   errno = 0;</span>
<span class="lineNum">     149 </span><span class="lineNoCov">          0 :   if (item.function == 0)       return EVAL::ERROR_CALCULATION_ERROR;</span>
<span class="lineNum">     150 </span><span class="lineNoCov">          0 :   switch (npar) {</span>
<span class="lineNum">     151 </span>            :   case 0:
<span class="lineNum">     152 </span><span class="lineNoCov">          0 :     result = ((double (*)())item.function)();</span>
<span class="lineNum">     153 </span><span class="lineNoCov">          0 :     break;  </span>
<span class="lineNum">     154 </span>            :   case 1:
<span class="lineNum">     155 </span><span class="lineNoCov">          0 :     result = ((double (*)(double))item.function)(pp[0]);</span>
<span class="lineNum">     156 </span><span class="lineNoCov">          0 :     break;  </span>
<span class="lineNum">     157 </span>            :   case 2:
<span class="lineNum">     158 </span><span class="lineNoCov">          0 :     result = ((double (*)(double,double))item.function)(pp[1], pp[0]);</span>
<span class="lineNum">     159 </span><span class="lineNoCov">          0 :     break;  </span>
<span class="lineNum">     160 </span>            :   case 3:
<span class="lineNum">     161 </span>            :     result = ((double (*)(double,double,double))item.function)
<span class="lineNum">     162 </span><span class="lineNoCov">          0 :       (pp[2],pp[1],pp[0]);</span>
<span class="lineNum">     163 </span><span class="lineNoCov">          0 :     break;  </span>
<span class="lineNum">     164 </span>            :   case 4:
<span class="lineNum">     165 </span>            :     result = ((double (*)(double,double,double,double))item.function)
<span class="lineNum">     166 </span><span class="lineNoCov">          0 :       (pp[3],pp[2],pp[1],pp[0]);</span>
<span class="lineNum">     167 </span><span class="lineNoCov">          0 :     break;  </span>
<span class="lineNum">     168 </span>            :   case 5:
<span class="lineNum">     169 </span>            :     result = ((double (*)(double,double,double,double,double))item.function)
<span class="lineNum">     170 </span><span class="lineNoCov">          0 :       (pp[4],pp[3],pp[2],pp[1],pp[0]);</span>
<span class="lineNum">     171 </span><span class="lineNoCov">          0 :     break;  </span>
<span class="lineNum">     172 </span>            :   }
<span class="lineNum">     173 </span><span class="lineNoCov">          0 :   return (errno == 0) ? EVAL::OK : EVAL::ERROR_CALCULATION_ERROR;</span>
<a name="174"><span class="lineNum">     174 </span>            : }</a>
<span class="lineNum">     175 </span>            : 
<span class="lineNum">     176 </span><span class="lineCov">      23985 : static int operand(pchar begin, pchar end, double &amp; result,</span>
<span class="lineNum">     177 </span>            :                    pchar &amp; endp, const dic_type &amp; dictionary) 
<span class="lineNum">     178 </span>            : /***********************************************************************
<span class="lineNum">     179 </span>            :  *                                                                     *
<span class="lineNum">     180 </span>            :  * Name: operand                                     Date:    03.10.00 *
<span class="lineNum">     181 </span>            :  * Author: Evgeni Chernyaev                          Revised:          *
<span class="lineNum">     182 </span>            :  *                                                                     *
<span class="lineNum">     183 </span>            :  * Function: Finds value of the operand. The operand can be either     * 
<span class="lineNum">     184 </span>            :  *           a number or a variable or a function.                     *  
<span class="lineNum">     185 </span>            :  *           This function is used by engine().                        * 
<span class="lineNum">     186 </span>            :  *                                                                     *
<span class="lineNum">     187 </span>            :  * Parameters:                                                         *
<span class="lineNum">     188 </span>            :  *   begin  - pointer to the first character of the operand.           *
<span class="lineNum">     189 </span>            :  *   end    - pointer to the last character of the character string.   *
<span class="lineNum">     190 </span>            :  *   result - value of the operand.                                    *
<span class="lineNum">     191 </span>            :  *   endp   - pointer to the character where the evaluation stoped.    *
<span class="lineNum">     192 </span>            :  *   dictionary - dictionary of available variables and functions.     *
<span class="lineNum">     193 </span>            :  *                                                                     *
<span class="lineNum">     194 </span>            :  ***********************************************************************/
<span class="lineNum">     195 </span>            : {
<span class="lineNum">     196 </span><span class="lineCov">      23985 :   pchar pointer = begin;</span>
<span class="lineNum">     197 </span>            :   int   EVAL_STATUS;
<span class="lineNum">     198 </span>            :   char  c;
<span class="lineNum">     199 </span>            : 
<span class="lineNum">     200 </span>            :   //   G E T   N U M B E R
<span class="lineNum">     201 </span>            : 
<span class="lineNum">     202 </span><span class="lineCov">      23985 :   if (!isalpha(*pointer)) {</span>
<span class="lineNum">     203 </span><span class="lineCov">      12645 :     errno = 0;</span>
<span class="lineNum">     204 </span><span class="lineCov">      12645 :     result = strtod(pointer, (char **)(&amp;pointer));</span>
<span class="lineNum">     205 </span><span class="lineCov">      12645 :     if (errno == 0) {</span>
<span class="lineNum">     206 </span><span class="lineCov">      12645 :       EVAL_EXIT( EVAL::OK, --pointer );</span>
<span class="lineNum">     207 </span>            :     }else{
<span class="lineNum">     208 </span><span class="lineNoCov">          0 :       EVAL_EXIT( EVAL::ERROR_CALCULATION_ERROR, begin );</span>
<span class="lineNum">     209 </span>            :     }
<span class="lineNum">     210 </span>            :   }
<span class="lineNum">     211 </span>            : 
<span class="lineNum">     212 </span>            :   //   G E T   N A M E
<span class="lineNum">     213 </span>            : 
<span class="lineNum">     214 </span><span class="lineCov">      89460 :   while(pointer &lt;= end) {</span>
<span class="lineNum">     215 </span><span class="lineCov">      40050 :     c = *pointer;</span>
<span class="lineNum">     216 </span><span class="lineCov">      40050 :     if (c != '_' &amp;&amp; !isalnum(c)) break;</span>
<span class="lineNum">     217 </span><span class="lineCov">      39060 :     pointer++;</span>
<span class="lineNum">     218 </span>            :   }
<span class="lineNum">     219 </span><span class="lineCov">      11340 :   c = *pointer;</span>
<span class="lineNum">     220 </span><span class="lineCov">      11340 :   *pointer = '\0';</span>
<span class="lineNum">     221 </span><span class="lineCov">      34020 :   string name(begin);</span>
<span class="lineNum">     222 </span><span class="lineCov">      11340 :   *pointer = c;</span>
<span class="lineNum">     223 </span>            : 
<span class="lineNum">     224 </span>            :   //   G E T   V A R I A B L E
<span class="lineNum">     225 </span>            : 
<span class="lineNum">     226 </span><span class="lineCov">      11340 :   result = 0.0;</span>
<span class="lineNum">     227 </span><span class="lineCov">      11340 :   SKIP_BLANKS;</span>
<span class="lineNum">     228 </span><span class="lineCov">      11340 :   if (c != '(') {</span>
<span class="lineNum">     229 </span><span class="lineCov">      11340 :     EVAL_STATUS = variable(name, result, dictionary);</span>
<span class="lineNum">     230 </span><span class="lineCov">      11340 :     EVAL_EXIT( EVAL_STATUS, (EVAL_STATUS == EVAL::OK) ? --pointer : begin);</span>
<span class="lineNum">     231 </span>            :   }
<span class="lineNum">     232 </span>            : 
<span class="lineNum">     233 </span>            :   //   G E T   F U N C T I O N
<span class="lineNum">     234 </span>            : 
<span class="lineNum">     235 </span><span class="lineNoCov">          0 :   stack&lt;pchar&gt;  pos;                // position stack </span>
<span class="lineNum">     236 </span><span class="lineNoCov">          0 :   stack&lt;double&gt; par;                // parameter stack</span>
<span class="lineNum">     237 </span>            :   double        value;
<span class="lineNum">     238 </span><span class="lineNoCov">          0 :   pchar         par_begin = pointer+1, par_end;</span>
<span class="lineNum">     239 </span>            : 
<span class="lineNum">     240 </span><span class="lineNoCov">          0 :   for(;;pointer++) {</span>
<span class="lineNum">     241 </span><span class="lineNoCov">          0 :     c = (pointer &gt; end) ? '\0' : *pointer;</span>
<span class="lineNum">     242 </span><span class="lineNoCov">          0 :     switch (c) {</span>
<span class="lineNum">     243 </span>            :     case '\0':  
<span class="lineNum">     244 </span><span class="lineNoCov">          0 :       EVAL_EXIT( EVAL::ERROR_UNPAIRED_PARENTHESIS, pos.top() ); </span>
<span class="lineNum">     245 </span>            :     case '(':
<span class="lineNum">     246 </span>            :       pos.push(pointer); break;
<span class="lineNum">     247 </span>            :     case ',':
<span class="lineNum">     248 </span><span class="lineNoCov">          0 :       if (pos.size() == 1) {</span>
<span class="lineNum">     249 </span><span class="lineNoCov">          0 :         par_end = pointer-1;</span>
<span class="lineNum">     250 </span><span class="lineNoCov">          0 :         EVAL_STATUS = engine(par_begin, par_end, value, par_end, dictionary);</span>
<span class="lineNum">     251 </span><span class="lineNoCov">          0 :         if (EVAL_STATUS == EVAL::WARNING_BLANK_STRING)</span>
<span class="lineNum">     252 </span><span class="lineNoCov">          0 :           { EVAL_EXIT( EVAL::ERROR_EMPTY_PARAMETER, --par_end ); }</span>
<span class="lineNum">     253 </span><span class="lineNoCov">          0 :         if (EVAL_STATUS != EVAL::OK)</span>
<span class="lineNum">     254 </span><span class="lineNoCov">          0 :           { EVAL_EXIT( EVAL_STATUS, par_end ); }</span>
<span class="lineNum">     255 </span><span class="lineNoCov">          0 :         par.push(value);</span>
<span class="lineNum">     256 </span><span class="lineNoCov">          0 :         par_begin = pointer + 1;</span>
<span class="lineNum">     257 </span>            :       }
<span class="lineNum">     258 </span>            :       break;
<span class="lineNum">     259 </span>            :     case ')':
<span class="lineNum">     260 </span><span class="lineNoCov">          0 :       if (pos.size() &gt; 1) {</span>
<span class="lineNum">     261 </span>            :         pos.pop();
<span class="lineNum">     262 </span>            :         break;
<span class="lineNum">     263 </span>            :       }else{
<span class="lineNum">     264 </span><span class="lineNoCov">          0 :         par_end = pointer-1;</span>
<span class="lineNum">     265 </span><span class="lineNoCov">          0 :         EVAL_STATUS = engine(par_begin, par_end, value, par_end, dictionary);</span>
<span class="lineNum">     266 </span><span class="lineNoCov">          0 :         switch (EVAL_STATUS) {</span>
<span class="lineNum">     267 </span>            :         case EVAL::OK:
<span class="lineNum">     268 </span>            :           par.push(value);
<span class="lineNum">     269 </span>            :           break;
<span class="lineNum">     270 </span>            :         case EVAL::WARNING_BLANK_STRING:
<span class="lineNum">     271 </span><span class="lineNoCov">          0 :           if (par.size() != 0)</span>
<span class="lineNum">     272 </span><span class="lineNoCov">          0 :             { EVAL_EXIT( EVAL::ERROR_EMPTY_PARAMETER, --par_end ); }</span>
<span class="lineNum">     273 </span>            :           break;
<span class="lineNum">     274 </span>            :         default:
<span class="lineNum">     275 </span><span class="lineNoCov">          0 :           EVAL_EXIT( EVAL_STATUS, par_end );</span>
<span class="lineNum">     276 </span>            :         }
<span class="lineNum">     277 </span><span class="lineNoCov">          0 :         EVAL_STATUS = function(name, par, result, dictionary);</span>
<span class="lineNum">     278 </span><span class="lineNoCov">          0 :         EVAL_EXIT( EVAL_STATUS, (EVAL_STATUS == EVAL::OK) ? pointer : begin);</span>
<span class="lineNum">     279 </span>            :       }
<span class="lineNum">     280 </span>            :     }
<span class="lineNum">     281 </span>            :   }
<span class="lineNum">     282 </span>            : }
<span class="lineNum">     283 </span>            : 
<span class="lineNum">     284 </span>            : /***********************************************************************
<span class="lineNum">     285 </span>            :  *                                                                     *
<span class="lineNum">     286 </span>            :  * Name: maker                                       Date:    28.09.00 *
<span class="lineNum">     287 </span>            :  * Author: Evgeni Chernyaev                          Revised:          *
<span class="lineNum">     288 </span>            :  *                                                                     *
<span class="lineNum">     289 </span>            :  * Function: Executes basic arithmetic operations on values in the top *
<span class="lineNum">     290 </span>            :  *           of the stack. Result is placed back into the stack.       *
<span class="lineNum">     291 </span>            :  *           This function is used by engine().                        * 
<span class="lineNum">     292 </span>            :  *                                                                     *
<span class="lineNum">     293 </span>            :  * Parameters:                                                         *
<span class="lineNum">     294 </span>            :  *   op  - code of the operation.                                      *
<span class="lineNum">     295 </span>            :  *   val - stack of values.                                            *
<a name="296"><span class="lineNum">     296 </span>            :  *                                                                     *</a>
<span class="lineNum">     297 </span>            :  ***********************************************************************/
<span class="lineNum">     298 </span><span class="lineCov">      13365 : static int maker(int op, stack&lt;double&gt; &amp; val)</span>
<span class="lineNum">     299 </span>            : {
<span class="lineNum">     300 </span><span class="lineCov">      13365 :   if (val.size() &lt; 2) return EVAL::ERROR_SYNTAX_ERROR;</span>
<span class="lineNum">     301 </span><span class="lineCov">      26730 :   double val2 = val.top(); val.pop();</span>
<span class="lineNum">     302 </span><span class="lineCov">      13365 :   double val1 = val.top();</span>
<span class="lineNum">     303 </span><span class="lineCov">      13365 :   switch (op) {</span>
<span class="lineNum">     304 </span>            :   case OR:                                // operator ||
<span class="lineNum">     305 </span><span class="lineNoCov">          0 :     val.top() = (val1 || val2) ? 1. : 0.;</span>
<span class="lineNum">     306 </span><span class="lineNoCov">          0 :     return EVAL::OK;</span>
<span class="lineNum">     307 </span>            :   case AND:                               // operator &amp;&amp;
<span class="lineNum">     308 </span><span class="lineNoCov">          0 :     val.top() = (val1 &amp;&amp; val2) ? 1. : 0.;</span>
<span class="lineNum">     309 </span><span class="lineNoCov">          0 :     return EVAL::OK;</span>
<span class="lineNum">     310 </span>            :   case EQ:                                // operator ==
<span class="lineNum">     311 </span><span class="lineNoCov">          0 :     val.top() = (val1 == val2) ? 1. : 0.;</span>
<span class="lineNum">     312 </span><span class="lineNoCov">          0 :     return EVAL::OK;</span>
<span class="lineNum">     313 </span>            :   case NE:                                // operator !=
<span class="lineNum">     314 </span><span class="lineNoCov">          0 :     val.top() = (val1 != val2) ? 1. : 0.;</span>
<span class="lineNum">     315 </span><span class="lineNoCov">          0 :     return EVAL::OK;</span>
<span class="lineNum">     316 </span>            :   case GE:                                // operator &gt;=
<span class="lineNum">     317 </span><span class="lineNoCov">          0 :     val.top() = (val1 &gt;= val2) ? 1. : 0.;</span>
<span class="lineNum">     318 </span><span class="lineNoCov">          0 :     return EVAL::OK;</span>
<span class="lineNum">     319 </span>            :   case GT:                                // operator &gt;
<span class="lineNum">     320 </span><span class="lineNoCov">          0 :     val.top() = (val1 &gt;  val2) ? 1. : 0.;</span>
<span class="lineNum">     321 </span><span class="lineNoCov">          0 :     return EVAL::OK;</span>
<span class="lineNum">     322 </span>            :   case LE:                                // operator &lt;=
<span class="lineNum">     323 </span><span class="lineNoCov">          0 :     val.top() = (val1 &lt;= val2) ? 1. : 0.;</span>
<span class="lineNum">     324 </span><span class="lineNoCov">          0 :     return EVAL::OK;</span>
<span class="lineNum">     325 </span>            :   case LT:                                // operator &lt;
<span class="lineNum">     326 </span><span class="lineNoCov">          0 :     val.top() = (val1 &lt;  val2) ? 1. : 0.;</span>
<span class="lineNum">     327 </span><span class="lineNoCov">          0 :     return EVAL::OK;</span>
<span class="lineNum">     328 </span>            :   case PLUS:                              // operator '+'
<span class="lineNum">     329 </span><span class="lineCov">         45 :     val.top() = val1 + val2;</span>
<span class="lineNum">     330 </span><span class="lineCov">         45 :     return EVAL::OK;</span>
<span class="lineNum">     331 </span>            :   case MINUS:                             // operator '-'
<span class="lineNum">     332 </span><span class="lineCov">        585 :     val.top() = val1 - val2;</span>
<span class="lineNum">     333 </span><span class="lineCov">        585 :     return EVAL::OK;</span>
<span class="lineNum">     334 </span>            :   case MULT:                              // operator '*'
<span class="lineNum">     335 </span><span class="lineCov">      11115 :     val.top() = val1 * val2;</span>
<span class="lineNum">     336 </span><span class="lineCov">      11115 :     return EVAL::OK;</span>
<span class="lineNum">     337 </span>            :   case DIV:                               // operator '/'
<span class="lineNum">     338 </span><span class="lineCov">       1035 :     if (val2 == 0.0) return EVAL::ERROR_CALCULATION_ERROR;</span>
<span class="lineNum">     339 </span><span class="lineCov">       1035 :     val.top() = val1 / val2;</span>
<span class="lineNum">     340 </span><span class="lineCov">       1035 :     return EVAL::OK;</span>
<span class="lineNum">     341 </span>            :   case POW:                               // operator '^' (or '**')
<span class="lineNum">     342 </span><span class="lineCov">        585 :     errno = 0;</span>
<span class="lineNum">     343 </span><span class="lineCov">        585 :     val.top() = pow(val1,val2);</span>
<span class="lineNum">     344 </span><span class="lineCov">        585 :     if (errno == 0) return EVAL::OK;</span>
<span class="lineNum">     345 </span>            :   default:
<span class="lineNum">     346 </span>            :     return EVAL::ERROR_CALCULATION_ERROR;
<span class="lineNum">     347 </span>            :   }
<span class="lineNum">     348 </span>            : }
<span class="lineNum">     349 </span>            : 
<span class="lineNum">     350 </span>            : /***********************************************************************
<span class="lineNum">     351 </span>            :  *                                                                     *
<span class="lineNum">     352 </span>            :  * Name: engine                                      Date:    28.09.00 *
<span class="lineNum">     353 </span>            :  * Author: Evgeni Chernyaev                          Revised:          *
<span class="lineNum">     354 </span>            :  *                                                                     *
<span class="lineNum">     355 </span>            :  * Function: Evaluates arithmetic expression.                          *
<span class="lineNum">     356 </span>            :  *                                                                     *
<span class="lineNum">     357 </span>            :  * Parameters:                                                         *
<span class="lineNum">     358 </span>            :  *   begin  - pointer to the character string with expression.         *
<span class="lineNum">     359 </span>            :  *   end    - pointer to the end of the character string (it is needed *
<span class="lineNum">     360 </span>            :  *            for recursive call of engine(), when there is no '\0').  *
<span class="lineNum">     361 </span>            :  *   result - result of the evaluation.                                *
<span class="lineNum">     362 </span>            :  *   endp   - pointer to the character where the evaluation stoped.    *
<span class="lineNum">     363 </span>            :  *   dictionary - dictionary of available variables and functions.     *
<a name="364"><span class="lineNum">     364 </span>            :  *                                                                     *</a>
<span class="lineNum">     365 </span>            :  ***********************************************************************/
<span class="lineNum">     366 </span><span class="lineCov">      11160 : static int engine(pchar begin, pchar end, double &amp; result,</span>
<span class="lineNum">     367 </span>            :                   pchar &amp; endp, const dic_type &amp; dictionary)
<span class="lineNum">     368 </span>            : {
<span class="lineNum">     369 </span>            :   static const int SyntaxTable[17][17] = {
<span class="lineNum">     370 </span>            :     //E  (  || &amp;&amp; == != &gt;= &gt;  &lt;= &lt;  +  -  *  /  ^  )  V - current token
<span class="lineNum">     371 </span>            :     { 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0, 0, 1 },   // E - previous
<span class="lineNum">     372 </span>            :     { 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0, 0, 1 },   // (   token
<span class="lineNum">     373 </span>            :     { 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },   // ||
<span class="lineNum">     374 </span>            :     { 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },   // &amp;&amp;
<span class="lineNum">     375 </span>            :     { 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },   // ==
<span class="lineNum">     376 </span>            :     { 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },   // !=
<span class="lineNum">     377 </span>            :     { 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },   // &gt;=
<span class="lineNum">     378 </span>            :     { 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },   // &gt;
<span class="lineNum">     379 </span>            :     { 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },   // &lt;=
<span class="lineNum">     380 </span>            :     { 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },   // &lt;
<span class="lineNum">     381 </span>            :     { 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },   // +
<span class="lineNum">     382 </span>            :     { 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },   // -
<span class="lineNum">     383 </span>            :     { 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },   // *
<span class="lineNum">     384 </span>            :     { 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },   // /
<span class="lineNum">     385 </span>            :     { 0, 3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 },   // ^
<span class="lineNum">     386 </span>            :     { 3, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0 },   // )
<span class="lineNum">     387 </span>            :     { 3, 0, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 0 }    // V = {.,N,C}
<span class="lineNum">     388 </span>            :   };
<span class="lineNum">     389 </span>            :   static const int ActionTable[15][16] = {
<span class="lineNum">     390 </span>            :     //E  (  || &amp;&amp; == != &gt;= &gt;  &lt;= &lt;  +  -  *  /  ^  ) - current operator
<span class="lineNum">     391 </span>            :     { 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,-1 }, // E - top operator
<span class="lineNum">     392 </span>            :     {-1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 3 }, // (   in stack
<span class="lineNum">     393 </span>            :     { 4, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4 }, // ||
<span class="lineNum">     394 </span>            :     { 4, 1, 4, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4 }, // &amp;&amp;
<span class="lineNum">     395 </span>            :     { 4, 1, 4, 4, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4 }, // ==
<span class="lineNum">     396 </span>            :     { 4, 1, 4, 4, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 4 }, // !=
<span class="lineNum">     397 </span>            :     { 4, 1, 4, 4, 4, 4, 2, 2, 2, 2, 1, 1, 1, 1, 1, 4 }, // &gt;=
<span class="lineNum">     398 </span>            :     { 4, 1, 4, 4, 4, 4, 2, 2, 2, 2, 1, 1, 1, 1, 1, 4 }, // &gt;
<span class="lineNum">     399 </span>            :     { 4, 1, 4, 4, 4, 4, 2, 2, 2, 2, 1, 1, 1, 1, 1, 4 }, // &lt;=
<span class="lineNum">     400 </span>            :     { 4, 1, 4, 4, 4, 4, 2, 2, 2, 2, 1, 1, 1, 1, 1, 4 }, // &lt;
<span class="lineNum">     401 </span>            :     { 4, 1, 4, 4, 4, 4, 4, 4, 4, 4, 2, 2, 1, 1, 1, 4 }, // +
<span class="lineNum">     402 </span>            :     { 4, 1, 4, 4, 4, 4, 4, 4, 4, 4, 2, 2, 1, 1, 1, 4 }, // -
<span class="lineNum">     403 </span>            :     { 4, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 2, 2, 1, 4 }, // *
<span class="lineNum">     404 </span>            :     { 4, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 2, 2, 1, 4 }, // /
<span class="lineNum">     405 </span>            :     { 4, 1, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4 }  // ^
<span class="lineNum">     406 </span>            :   };
<span class="lineNum">     407 </span>            : 
<span class="lineNum">     408 </span><span class="lineCov">      44640 :   stack&lt;int&gt;    op;                      // operator stack</span>
<span class="lineNum">     409 </span><span class="lineCov">      44640 :   stack&lt;pchar&gt;  pos;                     // position stack</span>
<span class="lineNum">     410 </span><span class="lineCov">      44640 :   stack&lt;double&gt; val;                     // value stack</span>
<span class="lineNum">     411 </span>            :   double        value;
<span class="lineNum">     412 </span><span class="lineCov">      11160 :   pchar         pointer = begin;</span>
<span class="lineNum">     413 </span><span class="lineCov">      11160 :   int           iWhat, iCur, iPrev = 0, iTop, EVAL_STATUS;</span>
<span class="lineNum">     414 </span>            :   char          c;
<span class="lineNum">     415 </span>            : 
<span class="lineNum">     416 </span><span class="lineCov">      22320 :   op.push(0); pos.push(pointer);         // push EOL to the stack</span>
<span class="lineNum">     417 </span><span class="lineCov">      11160 :   SKIP_BLANKS;</span>
<span class="lineNum">     418 </span><span class="lineCov">      11160 :   if (c == '\0') { EVAL_EXIT( EVAL::WARNING_BLANK_STRING, begin ); }</span>
<span class="lineNum">     419 </span><span class="lineCov">      54360 :   for(;;pointer++) {</span>
<span class="lineNum">     420 </span>            : 
<span class="lineNum">     421 </span>            :     //   N E X T   T O K E N
<span class="lineNum">     422 </span>            : 
<span class="lineNum">     423 </span><span class="lineCov">      65520 :     c = (pointer &gt; end) ? '\0' : *pointer;</span>
<span class="lineNum">     424 </span><span class="lineCov">      65520 :     if (isspace(c)) continue;            // skip space, tab etc.</span>
<span class="lineNum">     425 </span><span class="lineCov">      49050 :     switch (c) {</span>
<span class="lineNum">     426 </span><span class="lineCov">      11160 :     case '\0': iCur = ENDL; break;</span>
<span class="lineNum">     427 </span><span class="lineCov">        270 :     case '(':  iCur = LBRA; break;</span>
<span class="lineNum">     428 </span>            :     case '|':
<span class="lineNum">     429 </span><span class="lineNoCov">          0 :       if (*(pointer+1) == '|') {</span>
<span class="lineNum">     430 </span><span class="lineNoCov">          0 :         pointer++; iCur = OR; break;</span>
<span class="lineNum">     431 </span>            :       }else{
<span class="lineNum">     432 </span><span class="lineNoCov">          0 :         EVAL_EXIT( EVAL::ERROR_UNEXPECTED_SYMBOL, pointer );</span>
<span class="lineNum">     433 </span>            :       }
<span class="lineNum">     434 </span>            :     case '&amp;':
<span class="lineNum">     435 </span><span class="lineNoCov">          0 :       if (*(pointer+1) == '&amp;') {</span>
<span class="lineNum">     436 </span><span class="lineNoCov">          0 :         pointer++; iCur = AND; break;</span>
<span class="lineNum">     437 </span>            :       }else{
<span class="lineNum">     438 </span><span class="lineNoCov">          0 :         EVAL_EXIT( EVAL::ERROR_UNEXPECTED_SYMBOL, pointer );</span>
<span class="lineNum">     439 </span>            :       }
<span class="lineNum">     440 </span>            :     case '=':
<span class="lineNum">     441 </span><span class="lineNoCov">          0 :       if (*(pointer+1) == '=') {</span>
<span class="lineNum">     442 </span><span class="lineNoCov">          0 :         pointer++; iCur = EQ; break;</span>
<span class="lineNum">     443 </span>            :       }else{
<span class="lineNum">     444 </span><span class="lineNoCov">          0 :         EVAL_EXIT( EVAL::ERROR_UNEXPECTED_SYMBOL, pointer );</span>
<span class="lineNum">     445 </span>            :       }
<span class="lineNum">     446 </span>            :     case '!':
<span class="lineNum">     447 </span><span class="lineNoCov">          0 :       if (*(pointer+1) == '=') {</span>
<span class="lineNum">     448 </span><span class="lineNoCov">          0 :         pointer++; iCur = NE; break;</span>
<span class="lineNum">     449 </span>            :       }else{
<span class="lineNum">     450 </span><span class="lineNoCov">          0 :         EVAL_EXIT( EVAL::ERROR_UNEXPECTED_SYMBOL, pointer );</span>
<span class="lineNum">     451 </span>            :       }
<span class="lineNum">     452 </span>            :     case '&gt;':
<span class="lineNum">     453 </span><span class="lineNoCov">          0 :       if (*(pointer+1) == '=') { pointer++; iCur = GE; } else { iCur = GT; }</span>
<span class="lineNum">     454 </span>            :       break;
<span class="lineNum">     455 </span>            :     case '&lt;':
<span class="lineNum">     456 </span><span class="lineNoCov">          0 :       if (*(pointer+1) == '=') { pointer++; iCur = LE; } else { iCur = LT; }</span>
<span class="lineNum">     457 </span>            :       break;
<span class="lineNum">     458 </span><span class="lineCov">         45 :     case '+':  iCur = PLUS;  break;</span>
<span class="lineNum">     459 </span><span class="lineCov">        585 :     case '-':  iCur = MINUS; break;</span>
<span class="lineNum">     460 </span>            :     case '*':
<span class="lineNum">     461 </span><span class="lineCov">      11115 :       if (*(pointer+1) == '*') { pointer++; iCur = POW; }else{ iCur = MULT; }</span>
<span class="lineNum">     462 </span>            :       break;
<span class="lineNum">     463 </span><span class="lineCov">       1035 :     case '/':  iCur = DIV;  break;</span>
<span class="lineNum">     464 </span><span class="lineCov">        585 :     case '^':  iCur = POW;  break;</span>
<span class="lineNum">     465 </span><span class="lineCov">        270 :     case ')':  iCur = RBRA; break;</span>
<span class="lineNum">     466 </span>            :     default:
<span class="lineNum">     467 </span><span class="lineCov">      23985 :       if (c == '.' || isalnum(c)) {</span>
<span class="lineNum">     468 </span><span class="lineCov">      23985 :         iCur = VALUE; break;</span>
<span class="lineNum">     469 </span>            :       }else{
<span class="lineNum">     470 </span><span class="lineNoCov">          0 :         EVAL_EXIT( EVAL::ERROR_UNEXPECTED_SYMBOL, pointer );</span>
<span class="lineNum">     471 </span>            :       }
<span class="lineNum">     472 </span>            :     }
<span class="lineNum">     473 </span>            : 
<span class="lineNum">     474 </span>            :     //   S Y N T A X   A N A L I S Y S
<span class="lineNum">     475 </span>            : 
<span class="lineNum">     476 </span><span class="lineCov">      49050 :     iWhat = SyntaxTable[iPrev][iCur];</span>
<span class="lineNum">     477 </span><span class="lineCov">      49050 :     iPrev = iCur;</span>
<span class="lineNum">     478 </span><span class="lineCov">      49050 :     switch (iWhat) {</span>
<span class="lineNum">     479 </span>            :     case 0:                             // systax error
<span class="lineNum">     480 </span><span class="lineNoCov">          0 :       EVAL_EXIT( EVAL::ERROR_SYNTAX_ERROR, pointer );</span>
<span class="lineNum">     481 </span>            :     case 1:                             // operand: number, variable, function
<span class="lineNum">     482 </span><span class="lineCov">      23985 :       EVAL_STATUS = operand(pointer, end, value, pointer, dictionary);</span>
<span class="lineNum">     483 </span><span class="lineCov">      23985 :       if (EVAL_STATUS != EVAL::OK) { EVAL_EXIT( EVAL_STATUS, pointer ); }</span>
<span class="lineNum">     484 </span>            :       val.push(value);
<span class="lineNum">     485 </span>            :       continue;
<span class="lineNum">     486 </span>            :     case 2:                             // unary + or unary -
<span class="lineNum">     487 </span><span class="lineCov">       1080 :       val.push(0.0);</span>
<span class="lineNum">     488 </span>            :     case 3: default:                    // next operator
<span class="lineNum">     489 </span>            :       break;
<span class="lineNum">     490 </span>            :     }
<span class="lineNum">     491 </span>            : 
<span class="lineNum">     492 </span>            :     //   N E X T   O P E R A T O R
<span class="lineNum">     493 </span>            : 
<span class="lineNum">     494 </span>            :     for(;;) {
<span class="lineNum">     495 </span><span class="lineCov">      37035 :       if (op.size() == 0) { EVAL_EXIT( EVAL::ERROR_SYNTAX_ERROR, pointer ); }</span>
<span class="lineNum">     496 </span><span class="lineCov">      37035 :       iTop = op.top();</span>
<span class="lineNum">     497 </span><span class="lineCov">      37035 :       switch (ActionTable[iTop][iCur]) {</span>
<span class="lineNum">     498 </span>            :       case -1:                           // syntax error 
<span class="lineNum">     499 </span><span class="lineNoCov">          0 :         if (op.size() &gt; 1) pointer = pos.top();</span>
<span class="lineNum">     500 </span><span class="lineNoCov">          0 :         EVAL_EXIT( EVAL::ERROR_UNPAIRED_PARENTHESIS, pointer );</span>
<span class="lineNum">     501 </span>            :       case 0:                            // last operation (assignment)
<span class="lineNum">     502 </span><span class="lineCov">      11160 :         if (val.size() == 1) {</span>
<span class="lineNum">     503 </span><span class="lineCov">      11160 :           result = val.top();</span>
<span class="lineNum">     504 </span><span class="lineCov">      11160 :           EVAL_EXIT( EVAL::OK, pointer );</span>
<span class="lineNum">     505 </span>            :         }else{
<span class="lineNum">     506 </span><span class="lineNoCov">          0 :           EVAL_EXIT( EVAL::ERROR_SYNTAX_ERROR, pointer );</span>
<span class="lineNum">     507 </span>            :         }
<span class="lineNum">     508 </span>            :       case 1:                           // push current operator in stack
<span class="lineNum">     509 </span><span class="lineCov">      12240 :         op.push(iCur); pos.push(pointer);</span>
<span class="lineNum">     510 </span>            :         break;
<span class="lineNum">     511 </span>            :       case 2:                           // execute top operator
<span class="lineNum">     512 </span><span class="lineCov">       1395 :         EVAL_STATUS = maker(iTop, val); // put current operator in stack</span>
<span class="lineNum">     513 </span><span class="lineCov">       1395 :         if (EVAL_STATUS != EVAL::OK) {</span>
<span class="lineNum">     514 </span><span class="lineNoCov">          0 :           EVAL_EXIT( EVAL_STATUS, pos.top() );</span>
<span class="lineNum">     515 </span>            :         }
<span class="lineNum">     516 </span><span class="lineCov">       2790 :         op.top() = iCur; pos.top() = pointer;</span>
<span class="lineNum">     517 </span><span class="lineCov">       1395 :         break;</span>
<span class="lineNum">     518 </span>            :       case 3:                           // delete '(' from stack
<span class="lineNum">     519 </span><span class="lineCov">        270 :         op.pop(); pos.pop();</span>
<span class="lineNum">     520 </span>            :         break;
<span class="lineNum">     521 </span>            :       case 4: default:                  // execute top operator and 
<span class="lineNum">     522 </span><span class="lineCov">      11970 :         EVAL_STATUS = maker(iTop, val); // delete it from stack</span>
<span class="lineNum">     523 </span><span class="lineCov">      11970 :         if (EVAL_STATUS != EVAL::OK) {  // repete with the same iCur </span>
<span class="lineNum">     524 </span><span class="lineNoCov">          0 :           EVAL_EXIT( EVAL_STATUS, pos.top() );</span>
<span class="lineNum">     525 </span>            :         }
<span class="lineNum">     526 </span><span class="lineCov">      11970 :         op.pop(); pos.pop();</span>
<span class="lineNum">     527 </span>            :         continue;
<span class="lineNum">     528 </span>            :       }
<span class="lineNum">     529 </span>            :       break;
<span class="lineNum">     530 </span>            :     }
<span class="lineNum">     531 </span>            :   }
<span class="lineNum">     532 </span>            : }
<a name="533"><span class="lineNum">     533 </span>            : </a>
<span class="lineNum">     534 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">     535 </span><span class="lineCov">     100665 : static void setItem(const char * prefix, const char * name,</span>
<span class="lineNum">     536 </span>            :                     const Item &amp; item, Struct * s) {
<span class="lineNum">     537 </span>            : 
<span class="lineNum">     538 </span><span class="lineCov">     100665 :   if (name == 0 || *name == '\0') {</span>
<span class="lineNum">     539 </span><span class="lineNoCov">          0 :     s-&gt;theStatus = EVAL::ERROR_NOT_A_NAME;</span>
<span class="lineNum">     540 </span><span class="lineNoCov">          0 :     return;</span>
<span class="lineNum">     541 </span>            :   }
<span class="lineNum">     542 </span>            : 
<span class="lineNum">     543 </span>            :   //   R E M O V E   L E A D I N G   A N D   T R A I L I N G   S P A C E S
<span class="lineNum">     544 </span>            : 
<span class="lineNum">     545 </span><span class="lineCov">     100665 :   const char * pointer; int n; REMOVE_BLANKS;</span>
<span class="lineNum">     546 </span>            : 
<span class="lineNum">     547 </span>            :   //   C H E C K   N A M E 
<span class="lineNum">     548 </span>            :  
<span class="lineNum">     549 </span><span class="lineCov">     100665 :   if (n == 0) {</span>
<span class="lineNum">     550 </span><span class="lineNoCov">          0 :     s-&gt;theStatus = EVAL::ERROR_NOT_A_NAME;</span>
<span class="lineNum">     551 </span><span class="lineNoCov">          0 :     return;</span>
<span class="lineNum">     552 </span>            :   }
<span class="lineNum">     553 </span><span class="lineCov">    1131615 :   for(int i=0; i&lt;n; i++) {</span>
<span class="lineNum">     554 </span><span class="lineCov">     515475 :     char c = *(pointer+i);</span>
<span class="lineNum">     555 </span><span class="lineCov">     515475 :     if (c != '_' &amp;&amp; !isalnum(c)) {</span>
<span class="lineNum">     556 </span><span class="lineNoCov">          0 :       s-&gt;theStatus = EVAL::ERROR_NOT_A_NAME;</span>
<span class="lineNum">     557 </span><span class="lineNoCov">          0 :       return;</span>
<span class="lineNum">     558 </span>            :     }
<span class="lineNum">     559 </span>            :   }
<span class="lineNum">     560 </span>            : 
<span class="lineNum">     561 </span>            :   //   A D D   I T E M   T O   T H E   D I C T I O N A R Y
<span class="lineNum">     562 </span>            : 
<span class="lineNum">     563 </span><span class="lineCov">     603990 :   string item_name = prefix + string(pointer,n);</span>
<span class="lineNum">     564 </span><span class="lineCov">     201330 :   dic_type::iterator iter = (s-&gt;theDictionary).find(item_name);</span>
<span class="lineNum">     565 </span><span class="lineCov">     201330 :   if (iter != (s-&gt;theDictionary).end()) {</span>
<span class="lineNum">     566 </span><span class="lineCov">      13410 :     iter-&gt;second = item;</span>
<span class="lineNum">     567 </span><span class="lineCov">       6705 :     if (item_name == name) {</span>
<span class="lineNum">     568 </span><span class="lineCov">       6705 :       s-&gt;theStatus = EVAL::WARNING_EXISTING_VARIABLE;</span>
<span class="lineNum">     569 </span>            :     }else{
<span class="lineNum">     570 </span><span class="lineNoCov">          0 :       s-&gt;theStatus = EVAL::WARNING_EXISTING_FUNCTION;</span>
<span class="lineNum">     571 </span>            :     }
<span class="lineNum">     572 </span>            :   }else{
<span class="lineNum">     573 </span><span class="lineCov">     187920 :     (s-&gt;theDictionary)[item_name] = item;</span>
<span class="lineNum">     574 </span><span class="lineCov">      93960 :     s-&gt;theStatus = EVAL::OK;</span>
<span class="lineNum">     575 </span>            :   }
<span class="lineNum">     576 </span>            : } 
<span class="lineNum">     577 </span>            :                     
<span class="lineNum">     578 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">     579 </span>            : namespace HepTool {
<a name="580"><span class="lineNum">     580 </span>            : </a>
<span class="lineNum">     581 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">     582 </span><span class="lineCov">        405 : Evaluator::Evaluator() {</span>
<span class="lineNum">     583 </span><span class="lineCov">        810 :   Struct * s = new Struct();</span>
<span class="lineNum">     584 </span><span class="lineCov">        405 :   p = (void *) s;</span>
<span class="lineNum">     585 </span><span class="lineCov">        405 :   s-&gt;theExpression = 0;</span>
<span class="lineNum">     586 </span><span class="lineCov">        405 :   s-&gt;thePosition   = 0;</span>
<span class="lineNum">     587 </span><span class="lineCov">        405 :   s-&gt;theStatus     = OK;</span>
<span class="lineNum">     588 </span><span class="lineCov">        405 :   s-&gt;theResult     = 0.0;</span>
<span class="lineNum">     589 </span><span class="lineCov">        405 : }</span>
<a name="590"><span class="lineNum">     590 </span>            : </a>
<span class="lineNum">     591 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">     592 </span><span class="lineCov">        720 : Evaluator::~Evaluator() {</span>
<span class="lineNum">     593 </span><span class="lineCov">        360 :   Struct * s = (Struct *)(p);</span>
<span class="lineNum">     594 </span><span class="lineCov">        360 :   if(s-&gt;theExpression != 0){</span>
<span class="lineNum">     595 </span><span class="lineCov">        360 :     delete[] s-&gt;theExpression;</span>
<span class="lineNum">     596 </span>            :   }
<span class="lineNum">     597 </span><span class="lineCov">        720 :   delete (Struct *)(p);</span>
<span class="lineNum">     598 </span><span class="lineCov">        360 : }</span>
<a name="599"><span class="lineNum">     599 </span>            : </a>
<span class="lineNum">     600 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">     601 </span><span class="lineCov">      11160 : double Evaluator::evaluate(const char * expression) {</span>
<span class="lineNum">     602 </span><span class="lineCov">      11160 :   Struct * s = (Struct *)(p);</span>
<span class="lineNum">     603 </span><span class="lineCov">      11160 :   if (s-&gt;theExpression != 0) { delete[] s-&gt;theExpression; }</span>
<span class="lineNum">     604 </span><span class="lineCov">      11160 :   s-&gt;theExpression = 0;</span>
<span class="lineNum">     605 </span><span class="lineCov">      11160 :   s-&gt;thePosition   = 0;</span>
<span class="lineNum">     606 </span><span class="lineCov">      11160 :   s-&gt;theStatus     = WARNING_BLANK_STRING;</span>
<span class="lineNum">     607 </span><span class="lineCov">      11160 :   s-&gt;theResult     = 0.0;</span>
<span class="lineNum">     608 </span><span class="lineCov">      11160 :   if (expression != 0) {</span>
<span class="lineNum">     609 </span><span class="lineCov">      11160 :     s-&gt;theExpression = new char[strlen(expression)+1];</span>
<span class="lineNum">     610 </span><span class="lineCov">      22320 :     strcpy(s-&gt;theExpression, expression);</span>
<span class="lineNum">     611 </span><span class="lineCov">      22320 :     s-&gt;theStatus = engine(s-&gt;theExpression,</span>
<span class="lineNum">     612 </span><span class="lineCov">      11160 :                           s-&gt;theExpression+strlen(expression)-1,</span>
<span class="lineNum">     613 </span>            :                           s-&gt;theResult,
<span class="lineNum">     614 </span>            :                           s-&gt;thePosition,
<span class="lineNum">     615 </span><span class="lineCov">      11160 :                           s-&gt;theDictionary);</span>
<span class="lineNum">     616 </span>            :   }
<span class="lineNum">     617 </span><span class="lineCov">      11160 :   return s-&gt;theResult;</span>
<span class="lineNum">     618 </span>            : }
<a name="619"><span class="lineNum">     619 </span>            : </a>
<span class="lineNum">     620 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">     621 </span><span class="lineCov">       2655 : int Evaluator::status() const {</span>
<span class="lineNum">     622 </span><span class="lineCov">       2655 :   return ((Struct *)(p))-&gt;theStatus;</span>
<span class="lineNum">     623 </span>            : }
<a name="624"><span class="lineNum">     624 </span>            : </a>
<span class="lineNum">     625 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">     626 </span><span class="lineNoCov">          0 : int Evaluator::error_position() const {</span>
<span class="lineNum">     627 </span><span class="lineNoCov">          0 :   return ((Struct *)(p))-&gt;thePosition - ((Struct *)(p))-&gt;theExpression;</span>
<span class="lineNum">     628 </span>            : }
<a name="629"><span class="lineNum">     629 </span>            : </a>
<span class="lineNum">     630 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">     631 </span><span class="lineNoCov">          0 : void Evaluator::print_error() const {</span>
<span class="lineNum">     632 </span><span class="lineNoCov">          0 :   char prefix[] = &quot;Evaluator : &quot;;</span>
<span class="lineNum">     633 </span><span class="lineNoCov">          0 :   Struct * s = (Struct *) p;</span>
<span class="lineNum">     634 </span><span class="lineNoCov">          0 :   switch (s-&gt;theStatus) {</span>
<span class="lineNum">     635 </span>            :   case ERROR_NOT_A_NAME:
<span class="lineNum">     636 </span><span class="lineNoCov">          0 :     std::cerr &lt;&lt; prefix &lt;&lt; &quot;invalid name&quot;         &lt;&lt; std::endl;</span>
<span class="lineNum">     637 </span>            :     return;
<span class="lineNum">     638 </span>            :   case ERROR_SYNTAX_ERROR:
<span class="lineNum">     639 </span><span class="lineNoCov">          0 :     std::cerr &lt;&lt; prefix &lt;&lt; &quot;systax error&quot;         &lt;&lt; std::endl;</span>
<span class="lineNum">     640 </span>            :     return;
<span class="lineNum">     641 </span>            :   case ERROR_UNPAIRED_PARENTHESIS:
<span class="lineNum">     642 </span><span class="lineNoCov">          0 :     std::cerr &lt;&lt; prefix &lt;&lt; &quot;unpaired parenthesis&quot; &lt;&lt; std::endl;</span>
<span class="lineNum">     643 </span>            :     return;
<span class="lineNum">     644 </span>            :   case ERROR_UNEXPECTED_SYMBOL:
<span class="lineNum">     645 </span><span class="lineNoCov">          0 :     std::cerr &lt;&lt; prefix &lt;&lt; &quot;unexpected symbol&quot;    &lt;&lt; std::endl;</span>
<span class="lineNum">     646 </span>            :     return;
<span class="lineNum">     647 </span>            :   case ERROR_UNKNOWN_VARIABLE:
<span class="lineNum">     648 </span><span class="lineNoCov">          0 :     std::cerr &lt;&lt; prefix &lt;&lt; &quot;unknown variable&quot;     &lt;&lt; std::endl;</span>
<span class="lineNum">     649 </span>            :     return;
<span class="lineNum">     650 </span>            :   case ERROR_UNKNOWN_FUNCTION:
<span class="lineNum">     651 </span><span class="lineNoCov">          0 :     std::cerr &lt;&lt; prefix &lt;&lt; &quot;unknown function&quot;     &lt;&lt; std::endl;</span>
<span class="lineNum">     652 </span>            :     return;
<span class="lineNum">     653 </span>            :   case ERROR_EMPTY_PARAMETER: 
<span class="lineNum">     654 </span><span class="lineNoCov">          0 :     std::cerr &lt;&lt; prefix &lt;&lt; &quot;empty parameter in function call&quot;</span>
<span class="lineNum">     655 </span>            :                  &lt;&lt; std::endl;
<span class="lineNum">     656 </span>            :     return;
<span class="lineNum">     657 </span>            :   case ERROR_CALCULATION_ERROR:
<span class="lineNum">     658 </span><span class="lineNoCov">          0 :     std::cerr &lt;&lt; prefix &lt;&lt; &quot;calculation error&quot;    &lt;&lt; std::endl;</span>
<span class="lineNum">     659 </span>            :     return;
<span class="lineNum">     660 </span>            :   default:
<span class="lineNum">     661 </span>            :     return;
<span class="lineNum">     662 </span>            :   }
<span class="lineNum">     663 </span>            : }
<a name="664"><span class="lineNum">     664 </span>            : </a>
<span class="lineNum">     665 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">     666 </span><span class="lineCov">      91755 : void Evaluator::setVariable(const char * name, double value)</span>
<a name="667"><span class="lineNum">     667 </span><span class="lineCov">     275265 : { setItem(&quot;&quot;, name, Item(value), (Struct *)p); }</span></a>
<span class="lineNum">     668 </span>            : 
<span class="lineNum">     669 </span><span class="lineNoCov">          0 : void Evaluator::setVariable(const char * name, const char * expression)</span>
<span class="lineNum">     670 </span><span class="lineNoCov">          0 : { setItem(&quot;&quot;, name, Item(expression), (Struct *)p); }</span>
<span class="lineNum">     671 </span>            : 
<span class="lineNum">     672 </span>            : //---------------------------------------------------------------------------
<a name="673"><span class="lineNum">     673 </span>            : // Fix non ISO C++ compliant cast from pointer to function</a>
<span class="lineNum">     674 </span>            : // to void*, which is a pointer to an object
<span class="lineNum">     675 </span><span class="lineNoCov">          0 : void Evaluator::setFunction(const char * name,</span>
<span class="lineNum">     676 </span>            :                             double (*fun)())
<a name="677"><span class="lineNum">     677 </span><span class="lineNoCov">          0 : { setItem(&quot;0&quot;, name, Item(reinterpret_cast&lt;voidfuncptr&gt;(fun)), (Struct *)p); }</span></a>
<span class="lineNum">     678 </span>            : 
<span class="lineNum">     679 </span><span class="lineCov">       6480 : void Evaluator::setFunction(const char * name,</span>
<span class="lineNum">     680 </span>            :                             double (*fun)(double))
<a name="681"><span class="lineNum">     681 </span><span class="lineCov">      19440 : { setItem(&quot;1&quot;, name, Item(reinterpret_cast&lt;voidfuncptr&gt;(fun)), (Struct *)p); }</span></a>
<span class="lineNum">     682 </span>            : 
<span class="lineNum">     683 </span><span class="lineCov">       2430 : void Evaluator::setFunction(const char * name,</span>
<span class="lineNum">     684 </span>            :                             double (*fun)(double,double))
<a name="685"><span class="lineNum">     685 </span><span class="lineCov">       7290 : { setItem(&quot;2&quot;, name, Item(reinterpret_cast&lt;voidfuncptr&gt;(fun)), (Struct *)p); }</span></a>
<span class="lineNum">     686 </span>            : 
<span class="lineNum">     687 </span><span class="lineNoCov">          0 : void Evaluator::setFunction(const char * name,</span>
<span class="lineNum">     688 </span>            :                             double (*fun)(double,double,double))
<a name="689"><span class="lineNum">     689 </span><span class="lineNoCov">          0 : { setItem(&quot;3&quot;, name, Item(reinterpret_cast&lt;voidfuncptr&gt;(fun)), (Struct *)p); }</span></a>
<span class="lineNum">     690 </span>            : 
<span class="lineNum">     691 </span><span class="lineNoCov">          0 : void Evaluator::setFunction(const char * name,</span>
<span class="lineNum">     692 </span>            :                             double (*fun)(double,double,double,double))
<a name="693"><span class="lineNum">     693 </span><span class="lineNoCov">          0 : { setItem(&quot;4&quot;, name, Item(reinterpret_cast&lt;voidfuncptr&gt;(fun)), (Struct *)p); }</span></a>
<span class="lineNum">     694 </span>            : 
<span class="lineNum">     695 </span><span class="lineNoCov">          0 : void Evaluator::setFunction(const char * name,</span>
<span class="lineNum">     696 </span>            :                             double (*fun)(double,double,double,double,double))
<span class="lineNum">     697 </span><span class="lineNoCov">          0 : { setItem(&quot;5&quot;, name, Item(reinterpret_cast&lt;voidfuncptr&gt;(fun)), (Struct *)p); }</span>
<a name="698"><span class="lineNum">     698 </span>            : </a>
<span class="lineNum">     699 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">     700 </span><span class="lineNoCov">          0 : bool Evaluator::findVariable(const char * name) const {</span>
<span class="lineNum">     701 </span><span class="lineNoCov">          0 :   if (name == 0 || *name == '\0') return false;</span>
<span class="lineNum">     702 </span><span class="lineNoCov">          0 :   const char * pointer; int n; REMOVE_BLANKS;</span>
<span class="lineNum">     703 </span><span class="lineNoCov">          0 :   if (n == 0) return false;</span>
<span class="lineNum">     704 </span><span class="lineNoCov">          0 :   Struct * s = (Struct *)(p);</span>
<span class="lineNum">     705 </span>            :   return
<span class="lineNum">     706 </span><span class="lineNoCov">          0 :     ((s-&gt;theDictionary).find(string(pointer,n)) == (s-&gt;theDictionary).end()) ?</span>
<span class="lineNum">     707 </span><span class="lineNoCov">          0 :     false : true;</span>
<span class="lineNum">     708 </span>            : }
<a name="709"><span class="lineNum">     709 </span>            : </a>
<span class="lineNum">     710 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">     711 </span><span class="lineNoCov">          0 : bool Evaluator::findFunction(const char * name, int npar) const {</span>
<span class="lineNum">     712 </span><span class="lineNoCov">          0 :   if (name == 0 || *name == '\0')    return false;</span>
<span class="lineNum">     713 </span><span class="lineNoCov">          0 :   if (npar &lt; 0  || npar &gt; MAX_N_PAR) return false;</span>
<span class="lineNum">     714 </span><span class="lineNoCov">          0 :   const char * pointer; int n; REMOVE_BLANKS;</span>
<span class="lineNum">     715 </span><span class="lineNoCov">          0 :   if (n == 0) return false;</span>
<span class="lineNum">     716 </span><span class="lineNoCov">          0 :   Struct * s = (Struct *)(p);</span>
<span class="lineNum">     717 </span><span class="lineNoCov">          0 :   return ((s-&gt;theDictionary).find(sss[npar]+string(pointer,n)) ==</span>
<span class="lineNum">     718 </span><span class="lineNoCov">          0 :           (s-&gt;theDictionary).end()) ? false : true;</span>
<span class="lineNum">     719 </span>            : }
<a name="720"><span class="lineNum">     720 </span>            : </a>
<span class="lineNum">     721 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">     722 </span><span class="lineNoCov">          0 : void Evaluator::removeVariable(const char * name) {</span>
<span class="lineNum">     723 </span><span class="lineNoCov">          0 :   if (name == 0 || *name == '\0') return;</span>
<span class="lineNum">     724 </span><span class="lineNoCov">          0 :   const char * pointer; int n; REMOVE_BLANKS;</span>
<span class="lineNum">     725 </span><span class="lineNoCov">          0 :   if (n == 0) return;</span>
<span class="lineNum">     726 </span><span class="lineNoCov">          0 :   Struct * s = (Struct *)(p);</span>
<span class="lineNum">     727 </span><span class="lineNoCov">          0 :   (s-&gt;theDictionary).erase(string(pointer,n));</span>
<span class="lineNum">     728 </span>            : }
<a name="729"><span class="lineNum">     729 </span>            : </a>
<span class="lineNum">     730 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">     731 </span><span class="lineNoCov">          0 : void Evaluator::removeFunction(const char * name, int npar) {</span>
<span class="lineNum">     732 </span><span class="lineNoCov">          0 :   if (name == 0 || *name == '\0')    return;</span>
<span class="lineNum">     733 </span><span class="lineNoCov">          0 :   if (npar &lt; 0  || npar &gt; MAX_N_PAR) return;</span>
<span class="lineNum">     734 </span><span class="lineNoCov">          0 :   const char * pointer; int n; REMOVE_BLANKS;</span>
<span class="lineNum">     735 </span><span class="lineNoCov">          0 :   if (n == 0) return;</span>
<span class="lineNum">     736 </span><span class="lineNoCov">          0 :   Struct * s = (Struct *)(p);</span>
<span class="lineNum">     737 </span><span class="lineNoCov">          0 :   (s-&gt;theDictionary).erase(sss[npar]+string(pointer,n));</span>
<span class="lineNum">     738 </span>            : }
<a name="739"><span class="lineNum">     739 </span>            : </a>
<span class="lineNum">     740 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">     741 </span><span class="lineNoCov">          0 : void Evaluator::clear() {</span>
<span class="lineNum">     742 </span><span class="lineNoCov">          0 :   Struct * s = (Struct *) p;</span>
<span class="lineNum">     743 </span><span class="lineNoCov">          0 :   s-&gt;theDictionary.clear();</span>
<span class="lineNum">     744 </span><span class="lineNoCov">          0 :   s-&gt;theExpression = 0;</span>
<span class="lineNum">     745 </span><span class="lineNoCov">          0 :   s-&gt;thePosition   = 0;</span>
<span class="lineNum">     746 </span><span class="lineNoCov">          0 :   s-&gt;theStatus     = OK;</span>
<span class="lineNum">     747 </span><span class="lineNoCov">          0 :   s-&gt;theResult     = 0.0;</span>
<span class="lineNum">     748 </span><span class="lineNoCov">          0 : }</span>
<span class="lineNum">     749 </span>            : 
<span class="lineNum">     750 </span>            : //---------------------------------------------------------------------------
<span class="lineNum">     751 </span>            : } // namespace HepTool
<span class="lineNum">     752 </span>            : 
<span class="lineNum">     753 </span>            : // original file: setStdMath.cc
<span class="lineNum">     754 </span>            : 
<span class="lineNum">     755 </span>            : // -*- C++ -*-
<span class="lineNum">     756 </span>            : // $Id: CLHEP_Evaluator.cc 2500 2017-02-27 17:33:43Z axel $
<span class="lineNum">     757 </span>            : // ----------------------------------------------------------------------
<span class="lineNum">     758 </span>            : 
<span class="lineNum">     759 </span>            : #include &lt;cmath&gt;  // for sqrt and pow
<span class="lineNum">     760 </span>            : 
<a name="761"><span class="lineNum">     761 </span>            : using namespace std;</a>
<a name="762"><span class="lineNum">     762 </span>            : </a>
<a name="763"><span class="lineNum">     763 </span><span class="lineNoCov">          0 : static double eval_abs  (double a)           { return (a &lt; 0) ? -a : a; } </span></a>
<a name="764"><span class="lineNum">     764 </span><span class="lineNoCov">          0 : static double eval_min  (double a, double b) { return (a &lt; b) ?  a : b; } </span></a>
<a name="765"><span class="lineNum">     765 </span><span class="lineNoCov">          0 : static double eval_max  (double a, double b) { return (a &gt; b) ?  a : b; } </span></a>
<a name="766"><span class="lineNum">     766 </span><span class="lineNoCov">          0 : static double eval_sqrt (double a)           { return sqrt(a); } </span></a>
<a name="767"><span class="lineNum">     767 </span><span class="lineNoCov">          0 : static double eval_pow  (double a, double b) { return pow(a,b); } </span></a>
<a name="768"><span class="lineNum">     768 </span><span class="lineNoCov">          0 : static double eval_sin  (double a)           { return sin(a); } </span></a>
<a name="769"><span class="lineNum">     769 </span><span class="lineNoCov">          0 : static double eval_cos  (double a)           { return cos(a); } </span></a>
<a name="770"><span class="lineNum">     770 </span><span class="lineNoCov">          0 : static double eval_tan  (double a)           { return tan(a); } </span></a>
<a name="771"><span class="lineNum">     771 </span><span class="lineNoCov">          0 : static double eval_asin (double a)           { return asin(a); } </span></a>
<a name="772"><span class="lineNum">     772 </span><span class="lineNoCov">          0 : static double eval_acos (double a)           { return acos(a); } </span></a>
<a name="773"><span class="lineNum">     773 </span><span class="lineNoCov">          0 : static double eval_atan (double a)           { return atan(a); } </span></a>
<a name="774"><span class="lineNum">     774 </span><span class="lineNoCov">          0 : static double eval_atan2(double a, double b) { return atan2(a,b); } </span></a>
<a name="775"><span class="lineNum">     775 </span><span class="lineNoCov">          0 : static double eval_sinh (double a)           { return sinh(a); } </span></a>
<a name="776"><span class="lineNum">     776 </span><span class="lineNoCov">          0 : static double eval_cosh (double a)           { return cosh(a); } </span></a>
<a name="777"><span class="lineNum">     777 </span><span class="lineNoCov">          0 : static double eval_tanh (double a)           { return tanh(a); } </span></a>
<a name="778"><span class="lineNum">     778 </span><span class="lineNoCov">          0 : static double eval_exp  (double a)           { return exp(a); } </span></a>
<span class="lineNum">     779 </span><span class="lineNoCov">          0 : static double eval_log  (double a)           { return log(a); } </span>
<span class="lineNum">     780 </span><span class="lineNoCov">          0 : static double eval_log10(double a)           { return log10(a); } </span>
<span class="lineNum">     781 </span>            : 
<a name="782"><span class="lineNum">     782 </span>            : namespace HepTool {</a>
<span class="lineNum">     783 </span>            : 
<span class="lineNum">     784 </span><span class="lineCov">        405 : void Evaluator::setStdMath() {</span>
<span class="lineNum">     785 </span>            : 
<span class="lineNum">     786 </span>            :   //   S E T   S T A N D A R D   C O N S T A N T S
<span class="lineNum">     787 </span>            : 
<span class="lineNum">     788 </span><span class="lineCov">        405 :   setVariable(&quot;pi&quot;,     3.14159265358979323846);</span>
<span class="lineNum">     789 </span><span class="lineCov">        405 :   setVariable(&quot;e&quot;,      2.7182818284590452354);</span>
<span class="lineNum">     790 </span><span class="lineCov">        405 :   setVariable(&quot;gamma&quot;,  0.577215664901532861);</span>
<span class="lineNum">     791 </span><span class="lineCov">        405 :   setVariable(&quot;radian&quot;, 1.0);</span>
<span class="lineNum">     792 </span><span class="lineCov">        405 :   setVariable(&quot;rad&quot;,    1.0);</span>
<span class="lineNum">     793 </span><span class="lineCov">        405 :   setVariable(&quot;degree&quot;, 3.14159265358979323846/180.);</span>
<span class="lineNum">     794 </span><span class="lineCov">        405 :   setVariable(&quot;deg&quot;,    3.14159265358979323846/180.);</span>
<span class="lineNum">     795 </span>            : 
<span class="lineNum">     796 </span>            :   //   S E T   S T A N D A R D   F U N C T I O N S
<span class="lineNum">     797 </span>            : 
<span class="lineNum">     798 </span><span class="lineCov">        405 :   setFunction(&quot;abs&quot;,   eval_abs);</span>
<span class="lineNum">     799 </span><span class="lineCov">        405 :   setFunction(&quot;min&quot;,   eval_min);</span>
<span class="lineNum">     800 </span><span class="lineCov">        405 :   setFunction(&quot;max&quot;,   eval_max);</span>
<span class="lineNum">     801 </span><span class="lineCov">        405 :   setFunction(&quot;sqrt&quot;,  eval_sqrt);</span>
<span class="lineNum">     802 </span><span class="lineCov">        405 :   setFunction(&quot;pow&quot;,   eval_pow);</span>
<span class="lineNum">     803 </span><span class="lineCov">        405 :   setFunction(&quot;sin&quot;,   eval_sin);</span>
<span class="lineNum">     804 </span><span class="lineCov">        405 :   setFunction(&quot;cos&quot;,   eval_cos);</span>
<span class="lineNum">     805 </span><span class="lineCov">        405 :   setFunction(&quot;tan&quot;,   eval_tan);</span>
<span class="lineNum">     806 </span><span class="lineCov">        405 :   setFunction(&quot;asin&quot;,  eval_asin);</span>
<span class="lineNum">     807 </span><span class="lineCov">        405 :   setFunction(&quot;acos&quot;,  eval_acos);</span>
<span class="lineNum">     808 </span><span class="lineCov">        405 :   setFunction(&quot;atan&quot;,  eval_atan);</span>
<span class="lineNum">     809 </span><span class="lineCov">        405 :   setFunction(&quot;atan2&quot;, eval_atan2);</span>
<span class="lineNum">     810 </span><span class="lineCov">        405 :   setFunction(&quot;sinh&quot;,  eval_sinh);</span>
<span class="lineNum">     811 </span><span class="lineCov">        405 :   setFunction(&quot;cosh&quot;,  eval_cosh);</span>
<span class="lineNum">     812 </span><span class="lineCov">        405 :   setFunction(&quot;tanh&quot;,  eval_tanh);</span>
<span class="lineNum">     813 </span><span class="lineCov">        405 :   setFunction(&quot;exp&quot;,   eval_exp);</span>
<span class="lineNum">     814 </span><span class="lineCov">        405 :   setFunction(&quot;log&quot;,   eval_log);</span>
<span class="lineNum">     815 </span><span class="lineCov">        405 :   setFunction(&quot;log10&quot;, eval_log10);</span>
<span class="lineNum">     816 </span><span class="lineCov">        405 : }</span>
<span class="lineNum">     817 </span>            : 
<span class="lineNum">     818 </span>            : } // namespace HepTool
<span class="lineNum">     819 </span>            : 
<span class="lineNum">     820 </span>            : // original file: setSystemOfUnits.cc
<span class="lineNum">     821 </span>            : 
<a name="822"><span class="lineNum">     822 </span>            : namespace HepTool {</a>
<span class="lineNum">     823 </span>            : 
<span class="lineNum">     824 </span><span class="lineCov">        405 : void Evaluator::setSystemOfUnits(double meter,</span>
<span class="lineNum">     825 </span>            :                                  double kilogram,
<span class="lineNum">     826 </span>            :                                  double second,
<span class="lineNum">     827 </span>            :                                  double ampere,
<span class="lineNum">     828 </span>            :                                  double kelvin,
<span class="lineNum">     829 </span>            :                                  double mole,
<span class="lineNum">     830 </span>            :                                  double candela)
<span class="lineNum">     831 </span>            : {                           
<span class="lineNum">     832 </span><span class="lineCov">        405 :   const double kilo_  = 1.e+03; // chilioi (Greek) &quot;thousand&quot;</span>
<span class="lineNum">     833 </span><span class="lineCov">        405 :   const double mega_  = 1.e+06; // megas (Greek) &quot;large&quot;</span>
<span class="lineNum">     834 </span><span class="lineCov">        405 :   const double giga_  = 1.e+09; // gigas (Greek) &quot;giant&quot;</span>
<span class="lineNum">     835 </span><span class="lineCov">        405 :   const double tera_  = 1.e+12; // teras (Greek) &quot;monster&quot;</span>
<span class="lineNum">     836 </span><span class="lineCov">        405 :   const double peta_  = 1.e+15; // pente (Greek) &quot;five&quot;</span>
<span class="lineNum">     837 </span>            : 
<span class="lineNum">     838 </span><span class="lineCov">        405 :   const double deci_  = 1.e-01; // decimus (Latin) &quot;tenth&quot;</span>
<span class="lineNum">     839 </span><span class="lineCov">        405 :   const double centi_ = 1.e-02; // centum  (Latin) &quot;hundred&quot;</span>
<span class="lineNum">     840 </span><span class="lineCov">        405 :   const double milli_ = 1.e-03; // mille   (Latin) &quot;thousand&quot;</span>
<span class="lineNum">     841 </span><span class="lineCov">        405 :   const double micro_ = 1.e-06; // micro (Latin) or mikros (Greek) &quot;small&quot;</span>
<span class="lineNum">     842 </span><span class="lineCov">        405 :   const double nano_  = 1.e-09; // nanus (Latin) or nanos  (Greek) &quot;dwarf&quot;</span>
<span class="lineNum">     843 </span><span class="lineCov">        405 :   const double pico_  = 1.e-12; // pico (Spanish) &quot;bit&quot;</span>
<span class="lineNum">     844 </span>            : 
<span class="lineNum">     845 </span>            :   // ======================================================================
<span class="lineNum">     846 </span>            :   //
<span class="lineNum">     847 </span>            :   // Base (default) SI units
<span class="lineNum">     848 </span>            :   // for the basic measurable quantities (dimensions):
<span class="lineNum">     849 </span>            :   //
<span class="lineNum">     850 </span>            :   // ======================================================================
<span class="lineNum">     851 </span>            :   
<span class="lineNum">     852 </span>            :   // Length
<span class="lineNum">     853 </span>            :   // metrum (Latin) and metron (Greek) &quot;measure&quot;
<span class="lineNum">     854 </span><span class="lineCov">        405 :   const double m = meter;</span>
<span class="lineNum">     855 </span><span class="lineCov">        405 :   setVariable(&quot;meter&quot;, m);</span>
<span class="lineNum">     856 </span><span class="lineCov">        405 :   setVariable(&quot;metre&quot;, m);</span>
<span class="lineNum">     857 </span><span class="lineCov">        405 :   setVariable(&quot;m&quot;,     m);</span>
<span class="lineNum">     858 </span>            :   
<span class="lineNum">     859 </span>            :   // Mass
<span class="lineNum">     860 </span><span class="lineCov">        405 :   const double kg = kilogram;</span>
<span class="lineNum">     861 </span><span class="lineCov">        405 :   setVariable(&quot;kilogram&quot;, kg);</span>
<span class="lineNum">     862 </span><span class="lineCov">        405 :   setVariable(&quot;kg&quot;,       kg);</span>
<span class="lineNum">     863 </span>            :   
<span class="lineNum">     864 </span>            :   // Time
<span class="lineNum">     865 </span>            :   // minuta secundam (Latin) &quot;second small one&quot;
<span class="lineNum">     866 </span><span class="lineCov">        405 :   const double s = second;</span>
<span class="lineNum">     867 </span><span class="lineCov">        405 :   setVariable(&quot;second&quot;, s);</span>
<span class="lineNum">     868 </span><span class="lineCov">        405 :   setVariable(&quot;s&quot;,      s);</span>
<span class="lineNum">     869 </span>            :   
<span class="lineNum">     870 </span>            :   // Current
<span class="lineNum">     871 </span>            :   // ---  honors Andre-Marie Ampere (1775-1836) of France
<span class="lineNum">     872 </span><span class="lineCov">        405 :   const double A = ampere;</span>
<span class="lineNum">     873 </span><span class="lineCov">        405 :   setVariable(&quot;ampere&quot;, A);</span>
<span class="lineNum">     874 </span><span class="lineCov">        405 :   setVariable(&quot;amp&quot;,    A);</span>
<span class="lineNum">     875 </span><span class="lineCov">        405 :   setVariable(&quot;A&quot;,      A);</span>
<span class="lineNum">     876 </span>            :   
<span class="lineNum">     877 </span>            :   // Temperature
<span class="lineNum">     878 </span>            :   // ---  honors William Thomson, 1st Baron Lord Kelvin (1824-1907) of England
<span class="lineNum">     879 </span><span class="lineCov">        405 :   const double K = kelvin;</span>
<span class="lineNum">     880 </span><span class="lineCov">        405 :   setVariable(&quot;kelvin&quot;, K);</span>
<span class="lineNum">     881 </span><span class="lineCov">        405 :   setVariable(&quot;K&quot;,      K);</span>
<span class="lineNum">     882 </span>            :   
<span class="lineNum">     883 </span>            :   // Amount of substance
<span class="lineNum">     884 </span><span class="lineCov">        405 :   const double mol = mole;</span>
<span class="lineNum">     885 </span><span class="lineCov">        405 :   setVariable(&quot;mole&quot;, mol);</span>
<span class="lineNum">     886 </span><span class="lineCov">        405 :   setVariable(&quot;mol&quot;,  mol);</span>
<span class="lineNum">     887 </span>            :   
<span class="lineNum">     888 </span>            :   // Luminous intensity
<span class="lineNum">     889 </span><span class="lineCov">        405 :   const double cd  = candela;</span>
<span class="lineNum">     890 </span><span class="lineCov">        405 :   setVariable(&quot;candela&quot;, cd);</span>
<span class="lineNum">     891 </span><span class="lineCov">        405 :   setVariable(&quot;cd&quot;,      cd);</span>
<span class="lineNum">     892 </span>            : 
<span class="lineNum">     893 </span>            :   // ======================================================================
<span class="lineNum">     894 </span>            :   //
<span class="lineNum">     895 </span>            :   // Supplementary SI units having special symbols:
<span class="lineNum">     896 </span>            :   //
<span class="lineNum">     897 </span>            :   // ======================================================================
<span class="lineNum">     898 </span>            : 
<span class="lineNum">     899 </span>            :   // Plane angle 
<span class="lineNum">     900 </span><span class="lineCov">        405 :   const double rad = 1.;</span>
<span class="lineNum">     901 </span><span class="lineCov">        405 :   setVariable(&quot;radian&quot;, rad);</span>
<span class="lineNum">     902 </span><span class="lineCov">        405 :   setVariable(&quot;rad&quot;,    rad);</span>
<span class="lineNum">     903 </span><span class="lineCov">        405 :   setVariable(&quot;milliradian&quot;, milli_ * rad);</span>
<span class="lineNum">     904 </span><span class="lineCov">        405 :   setVariable(&quot;mrad&quot;,        milli_ * rad);</span>
<span class="lineNum">     905 </span>            : 
<span class="lineNum">     906 </span><span class="lineCov">        405 :   const double pi  = 3.14159265358979323846;</span>
<span class="lineNum">     907 </span><span class="lineCov">        405 :   const double deg = rad*pi/180.;</span>
<span class="lineNum">     908 </span><span class="lineCov">        405 :   setVariable(&quot;degree&quot;, deg);</span>
<span class="lineNum">     909 </span><span class="lineCov">        405 :   setVariable(&quot;deg&quot;,    deg);</span>
<span class="lineNum">     910 </span>            : 
<span class="lineNum">     911 </span>            :   // Solid angle
<span class="lineNum">     912 </span><span class="lineCov">        405 :   const double sr  = 1.;</span>
<span class="lineNum">     913 </span><span class="lineCov">        405 :   setVariable(&quot;steradian&quot;, sr);</span>
<span class="lineNum">     914 </span><span class="lineCov">        405 :   setVariable(&quot;sr&quot;,        sr);</span>
<span class="lineNum">     915 </span>            : 
<span class="lineNum">     916 </span>            :   // ======================================================================
<span class="lineNum">     917 </span>            :   //
<span class="lineNum">     918 </span>            :   // Derived SI units having special symbols:
<span class="lineNum">     919 </span>            :   //
<span class="lineNum">     920 </span>            :   // ======================================================================
<span class="lineNum">     921 </span>            : 
<span class="lineNum">     922 </span>            :   // Frequency
<span class="lineNum">     923 </span>            :   // ---  honors Heinrich Rudolf Hertz (1857-1894) of Germany
<span class="lineNum">     924 </span><span class="lineCov">        405 :   const double Hz = 1./s;</span>
<span class="lineNum">     925 </span><span class="lineCov">        405 :   setVariable(&quot;hertz&quot;, Hz);</span>
<span class="lineNum">     926 </span><span class="lineCov">        405 :   setVariable(&quot;Hz&quot;,    Hz);</span>
<span class="lineNum">     927 </span>            : 
<span class="lineNum">     928 </span>            :   // Force
<span class="lineNum">     929 </span>            :   // ---  honors Sir Isaac Newton (1642-1727) of England
<span class="lineNum">     930 </span><span class="lineCov">        405 :   const double N = m * kg / (s*s);</span>
<span class="lineNum">     931 </span><span class="lineCov">        405 :   setVariable(&quot;newton&quot;, N);</span>
<span class="lineNum">     932 </span><span class="lineCov">        405 :   setVariable(&quot;N&quot;,      N);</span>
<span class="lineNum">     933 </span>            : 
<span class="lineNum">     934 </span>            :   // Pressure
<span class="lineNum">     935 </span>            :   // ---  honors Blaise Pascal (1623-1662) of France
<span class="lineNum">     936 </span><span class="lineCov">        405 :   const double Pa = N / (m*m);</span>
<span class="lineNum">     937 </span><span class="lineCov">        405 :   setVariable(&quot;pascal&quot;, Pa);</span>
<span class="lineNum">     938 </span><span class="lineCov">        405 :   setVariable(&quot;Pa&quot;,     Pa);</span>
<span class="lineNum">     939 </span>            : 
<span class="lineNum">     940 </span><span class="lineCov">        405 :   const double atm = 101325. * Pa;</span>
<span class="lineNum">     941 </span><span class="lineCov">        405 :   setVariable(&quot;atmosphere&quot;, atm);</span>
<span class="lineNum">     942 </span><span class="lineCov">        405 :   setVariable(&quot;atm&quot;,        atm);</span>
<span class="lineNum">     943 </span>            : 
<span class="lineNum">     944 </span><span class="lineCov">        405 :   const double bar = 100000*Pa;</span>
<span class="lineNum">     945 </span><span class="lineCov">        405 :   setVariable(&quot;bar&quot;, bar);</span>
<span class="lineNum">     946 </span>            : 
<span class="lineNum">     947 </span>            :   // Energy
<span class="lineNum">     948 </span>            :   // ---  honors James Prescott Joule (1818-1889) of England
<span class="lineNum">     949 </span><span class="lineCov">        405 :   const double J = N * m;</span>
<span class="lineNum">     950 </span><span class="lineCov">        405 :   setVariable(&quot;joule&quot;, J);</span>
<span class="lineNum">     951 </span><span class="lineCov">        405 :   setVariable(&quot;J&quot;,     J);</span>
<span class="lineNum">     952 </span>            : 
<span class="lineNum">     953 </span>            :   // Power
<span class="lineNum">     954 </span>            :   // ---  honors James Watt (1736-1819) of Scotland
<span class="lineNum">     955 </span><span class="lineCov">        405 :   const double W = J / s;</span>
<span class="lineNum">     956 </span><span class="lineCov">        405 :   setVariable(&quot;watt&quot;, W);</span>
<span class="lineNum">     957 </span><span class="lineCov">        405 :   setVariable(&quot;W&quot;,    W);</span>
<span class="lineNum">     958 </span>            : 
<span class="lineNum">     959 </span>            :   // Electric charge
<span class="lineNum">     960 </span>            :   // ---  honors Charles-Augustin de Coulomb (1736-1806) of France
<span class="lineNum">     961 </span><span class="lineCov">        405 :   const double C = A * s;</span>
<span class="lineNum">     962 </span><span class="lineCov">        405 :   setVariable(&quot;coulomb&quot;, C);</span>
<span class="lineNum">     963 </span><span class="lineCov">        405 :   setVariable(&quot;C&quot;,       C);</span>
<span class="lineNum">     964 </span>            : 
<span class="lineNum">     965 </span>            :   // Electric potential  
<span class="lineNum">     966 </span>            :   // ---  honors Count Alessandro Volta (1745-1827) of Italy
<span class="lineNum">     967 </span><span class="lineCov">        405 :   const double V = J / C;</span>
<span class="lineNum">     968 </span><span class="lineCov">        405 :   setVariable(&quot;volt&quot;, V);</span>
<span class="lineNum">     969 </span><span class="lineCov">        405 :   setVariable(&quot;V&quot;,    V);</span>
<span class="lineNum">     970 </span>            : 
<span class="lineNum">     971 </span>            :   // Electric resistance
<span class="lineNum">     972 </span>            :   // ---  honors Georg Simon Ohm (1787-1854) of Germany
<span class="lineNum">     973 </span><span class="lineCov">        405 :   const double ohm = V / A;</span>
<span class="lineNum">     974 </span><span class="lineCov">        405 :   setVariable(&quot;ohm&quot;, ohm);</span>
<span class="lineNum">     975 </span>            : 
<span class="lineNum">     976 </span>            :   // Electric conductance
<span class="lineNum">     977 </span>            :   // ---  honors Ernst Werner von Siemens (1816-1892) or
<span class="lineNum">     978 </span>            :   //      his brother Sir William (Karl Wilhelm von) Siemens (1823-1883)
<span class="lineNum">     979 </span>            :   //      of Germany (England)
<span class="lineNum">     980 </span><span class="lineCov">        405 :   const double S = 1./ ohm;</span>
<span class="lineNum">     981 </span><span class="lineCov">        405 :   setVariable(&quot;siemens&quot;, S);</span>
<span class="lineNum">     982 </span><span class="lineCov">        405 :   setVariable(&quot;S&quot;,       S);</span>
<span class="lineNum">     983 </span>            : 
<span class="lineNum">     984 </span>            :   // Electric capacitance
<span class="lineNum">     985 </span>            :   // ---  honors Michael Faraday (1791-1867) of England
<span class="lineNum">     986 </span><span class="lineCov">        405 :   const double F = C / V;</span>
<span class="lineNum">     987 </span><span class="lineCov">        405 :   setVariable(&quot;farad&quot;, F);</span>
<span class="lineNum">     988 </span><span class="lineCov">        405 :   setVariable(&quot;F&quot;,     F);</span>
<span class="lineNum">     989 </span>            : 
<span class="lineNum">     990 </span>            :   // Magnetic flux density
<span class="lineNum">     991 </span>            :   // ---  honors Nikola Tesla (1856-1943) of Croatia (United States)
<span class="lineNum">     992 </span><span class="lineCov">        405 :   const double T = V * s / (m*m);</span>
<span class="lineNum">     993 </span><span class="lineCov">        405 :   setVariable(&quot;tesla&quot;, T);</span>
<span class="lineNum">     994 </span><span class="lineCov">        405 :   setVariable(&quot;T&quot;,     T);</span>
<span class="lineNum">     995 </span>            : 
<span class="lineNum">     996 </span>            :   // ---  honors Karl Friedrich Gauss (1777-1855) of Germany
<span class="lineNum">     997 </span><span class="lineCov">        405 :   const double Gs = 1.e-4*T;</span>
<span class="lineNum">     998 </span><span class="lineCov">        405 :   setVariable(&quot;gauss&quot;, Gs);</span>
<span class="lineNum">     999 </span><span class="lineCov">        405 :   setVariable(&quot;Gs&quot;,    Gs);</span>
<span class="lineNum">    1000 </span>            : 
<span class="lineNum">    1001 </span>            :   // Magnetic flux
<span class="lineNum">    1002 </span>            :   // ---  honors Wilhelm Eduard Weber (1804-1891) of Germany
<span class="lineNum">    1003 </span><span class="lineCov">        405 :   const double Wb = V * s;</span>
<span class="lineNum">    1004 </span><span class="lineCov">        405 :   setVariable(&quot;weber&quot;, Wb);</span>
<span class="lineNum">    1005 </span><span class="lineCov">        405 :   setVariable(&quot;Wb&quot;,    Wb);</span>
<span class="lineNum">    1006 </span>            : 
<span class="lineNum">    1007 </span>            :   // Inductance
<span class="lineNum">    1008 </span>            :   // ---  honors Joseph Henry (1797-1878) of the United States
<span class="lineNum">    1009 </span><span class="lineCov">        405 :   const double H = Wb / A;</span>
<span class="lineNum">    1010 </span><span class="lineCov">        405 :   setVariable(&quot;henry&quot;, H);</span>
<span class="lineNum">    1011 </span><span class="lineCov">        405 :   setVariable(&quot;H&quot;,     H);</span>
<span class="lineNum">    1012 </span>            : 
<span class="lineNum">    1013 </span>            :   // Luminous flux
<span class="lineNum">    1014 </span><span class="lineCov">        405 :   const double lm = cd * sr;</span>
<span class="lineNum">    1015 </span><span class="lineCov">        405 :   setVariable(&quot;lumen&quot;, lm);</span>
<span class="lineNum">    1016 </span><span class="lineCov">        405 :   setVariable(&quot;lm&quot;,    lm);</span>
<span class="lineNum">    1017 </span>            : 
<span class="lineNum">    1018 </span>            :   // Illuminace
<span class="lineNum">    1019 </span><span class="lineCov">        405 :   const double lx = lm / (m*m);</span>
<span class="lineNum">    1020 </span><span class="lineCov">        405 :   setVariable(&quot;lux&quot;, lx);</span>
<span class="lineNum">    1021 </span><span class="lineCov">        405 :   setVariable(&quot;lx&quot;,  lx);</span>
<span class="lineNum">    1022 </span>            : 
<span class="lineNum">    1023 </span>            :   // Radioactivity
<span class="lineNum">    1024 </span>            :   // ---  honors Antoine-Henri Becquerel (1852-1908) of France
<span class="lineNum">    1025 </span><span class="lineCov">        405 :   const double Bq = 1./s;</span>
<span class="lineNum">    1026 </span><span class="lineCov">        405 :   setVariable(&quot;becquerel&quot;, Bq);</span>
<span class="lineNum">    1027 </span><span class="lineCov">        405 :   setVariable(&quot;Bq&quot;,        Bq);</span>
<span class="lineNum">    1028 </span>            : 
<span class="lineNum">    1029 </span>            :   // ---  honors Pierre Curie (1859-1906) of France
<span class="lineNum">    1030 </span>            :   //      and Marie Sklodowska Curie (1867-1934) of Poland
<span class="lineNum">    1031 </span><span class="lineCov">        405 :   setVariable(&quot;curie&quot;, 3.7e+10 * Bq);</span>
<span class="lineNum">    1032 </span><span class="lineCov">        405 :   setVariable(&quot;Ci&quot;,    3.7e+10 * Bq);</span>
<span class="lineNum">    1033 </span>            : 
<span class="lineNum">    1034 </span>            :   // Specific energy
<span class="lineNum">    1035 </span>            :   // ---  honors Louis Harold Gray, F.R.S. (1905-1965) of England
<span class="lineNum">    1036 </span><span class="lineCov">        405 :   const double Gy = J / kg;</span>
<span class="lineNum">    1037 </span><span class="lineCov">        405 :   setVariable(&quot;gray&quot;, Gy);</span>
<span class="lineNum">    1038 </span><span class="lineCov">        405 :   setVariable(&quot;Gy&quot;,   Gy);</span>
<span class="lineNum">    1039 </span>            : 
<span class="lineNum">    1040 </span>            :   // Dose equivalent
<span class="lineNum">    1041 </span><span class="lineCov">        405 :   const double Sv = J / kg;</span>
<span class="lineNum">    1042 </span><span class="lineCov">        405 :   setVariable(&quot;sievert&quot;, Sv);</span>
<span class="lineNum">    1043 </span><span class="lineCov">        405 :   setVariable(&quot;Sv&quot;,      Sv);</span>
<span class="lineNum">    1044 </span>            : 
<span class="lineNum">    1045 </span>            :   // ======================================================================
<span class="lineNum">    1046 </span>            :   //
<span class="lineNum">    1047 </span>            :   // Selected units:
<span class="lineNum">    1048 </span>            :   //
<span class="lineNum">    1049 </span>            :   // ======================================================================
<span class="lineNum">    1050 </span>            : 
<span class="lineNum">    1051 </span>            :   // Length
<span class="lineNum">    1052 </span>            : 
<span class="lineNum">    1053 </span><span class="lineCov">        405 :   const double mm = milli_ * m;</span>
<span class="lineNum">    1054 </span><span class="lineCov">        405 :   setVariable(&quot;millimeter&quot;, mm);</span>
<span class="lineNum">    1055 </span><span class="lineCov">        405 :   setVariable(&quot;mm&quot;,         mm);</span>
<span class="lineNum">    1056 </span>            : 
<span class="lineNum">    1057 </span><span class="lineCov">        405 :   const double cm = centi_ * m;</span>
<span class="lineNum">    1058 </span><span class="lineCov">        405 :   setVariable(&quot;centimeter&quot;, cm);</span>
<span class="lineNum">    1059 </span><span class="lineCov">        405 :   setVariable(&quot;cm&quot;,         cm);</span>
<span class="lineNum">    1060 </span>            : 
<span class="lineNum">    1061 </span><span class="lineCov">        405 :   setVariable(&quot;decimeter&quot;,  deci_ * m);</span>
<span class="lineNum">    1062 </span>            : 
<span class="lineNum">    1063 </span><span class="lineCov">        405 :   const double km = kilo_ * m; </span>
<span class="lineNum">    1064 </span><span class="lineCov">        405 :   setVariable(&quot;kilometer&quot;,  km);</span>
<span class="lineNum">    1065 </span><span class="lineCov">        405 :   setVariable(&quot;km&quot;,         km);</span>
<span class="lineNum">    1066 </span>            : 
<span class="lineNum">    1067 </span><span class="lineCov">        405 :   setVariable(&quot;micrometer&quot;, micro_ * m);</span>
<span class="lineNum">    1068 </span><span class="lineCov">        405 :   setVariable(&quot;micron&quot;,     micro_ * m);</span>
<span class="lineNum">    1069 </span><span class="lineCov">        405 :   setVariable(&quot;nanometer&quot;,  nano_  * m);</span>
<span class="lineNum">    1070 </span>            : 
<span class="lineNum">    1071 </span>            :   // ---  honors Anders Jonas Angstrom (1814-1874) of Sweden
<span class="lineNum">    1072 </span><span class="lineCov">        405 :   setVariable(&quot;angstrom&quot;,   1.e-10 * m);</span>
<span class="lineNum">    1073 </span>            : 
<span class="lineNum">    1074 </span>            :   // ---  honors Enrico Fermi (1901-1954) of Italy
<span class="lineNum">    1075 </span><span class="lineCov">        405 :   setVariable(&quot;fermi&quot;,      1.e-15 * m);</span>
<span class="lineNum">    1076 </span>            : 
<span class="lineNum">    1077 </span>            :   // Length^2
<span class="lineNum">    1078 </span>            : 
<span class="lineNum">    1079 </span><span class="lineCov">        405 :   setVariable(&quot;m2&quot;,  m*m);</span>
<span class="lineNum">    1080 </span><span class="lineCov">        405 :   setVariable(&quot;mm2&quot;, mm*mm);</span>
<span class="lineNum">    1081 </span><span class="lineCov">        405 :   setVariable(&quot;cm2&quot;, cm*cm);</span>
<span class="lineNum">    1082 </span><span class="lineCov">        405 :   setVariable(&quot;km2&quot;, km*km);</span>
<span class="lineNum">    1083 </span>            : 
<span class="lineNum">    1084 </span><span class="lineCov">        405 :   const double barn = 1.e-28 * m*m; </span>
<span class="lineNum">    1085 </span><span class="lineCov">        405 :   setVariable(&quot;barn&quot;,      barn);</span>
<span class="lineNum">    1086 </span><span class="lineCov">        405 :   setVariable(&quot;millibarn&quot;, milli_ * barn);</span>
<span class="lineNum">    1087 </span><span class="lineCov">        405 :   setVariable(&quot;mbarn&quot;,     milli_ * barn);</span>
<span class="lineNum">    1088 </span><span class="lineCov">        405 :   setVariable(&quot;microbarn&quot;, micro_ * barn);</span>
<span class="lineNum">    1089 </span><span class="lineCov">        405 :   setVariable(&quot;nanobarn&quot;,  nano_  * barn);</span>
<span class="lineNum">    1090 </span><span class="lineCov">        405 :   setVariable(&quot;picobarn&quot;,  pico_  * barn);</span>
<span class="lineNum">    1091 </span>            : 
<span class="lineNum">    1092 </span>            :   // LengthL^3
<span class="lineNum">    1093 </span>            : 
<span class="lineNum">    1094 </span><span class="lineCov">        405 :   setVariable(&quot;m3&quot;,  m*m*m);</span>
<span class="lineNum">    1095 </span><span class="lineCov">        405 :   setVariable(&quot;mm3&quot;, mm*mm*mm);</span>
<span class="lineNum">    1096 </span><span class="lineCov">        405 :   setVariable(&quot;cm3&quot;, cm*cm*cm);</span>
<span class="lineNum">    1097 </span><span class="lineCov">        405 :   setVariable(&quot;cc&quot;,  cm*cm*cm);</span>
<span class="lineNum">    1098 </span><span class="lineCov">        405 :   setVariable(&quot;km3&quot;, km*km*km);</span>
<span class="lineNum">    1099 </span>            : 
<span class="lineNum">    1100 </span><span class="lineCov">        405 :   const double L = 1.e-3*m*m*m;</span>
<span class="lineNum">    1101 </span><span class="lineCov">        405 :   setVariable(&quot;liter&quot;, L);  </span>
<span class="lineNum">    1102 </span><span class="lineCov">        405 :   setVariable(&quot;litre&quot;, L);  </span>
<span class="lineNum">    1103 </span><span class="lineCov">        405 :   setVariable(&quot;L&quot;,     L);  </span>
<span class="lineNum">    1104 </span><span class="lineCov">        405 :   setVariable(&quot;centiliter&quot;,  centi_ * L);</span>
<span class="lineNum">    1105 </span><span class="lineCov">        405 :   setVariable(&quot;cL&quot;,          centi_ * L);</span>
<span class="lineNum">    1106 </span><span class="lineCov">        405 :   setVariable(&quot;milliliter&quot;,  milli_ * L);</span>
<span class="lineNum">    1107 </span><span class="lineCov">        405 :   setVariable(&quot;mL&quot;,          milli_ * L);</span>
<span class="lineNum">    1108 </span>            : 
<span class="lineNum">    1109 </span>            :   // Length^-1
<span class="lineNum">    1110 </span>            : 
<span class="lineNum">    1111 </span><span class="lineCov">        405 :   const double dpt = 1./m;</span>
<span class="lineNum">    1112 </span><span class="lineCov">        405 :   setVariable(&quot;diopter&quot;, dpt);</span>
<span class="lineNum">    1113 </span><span class="lineCov">        405 :   setVariable(&quot;dioptre&quot;, dpt);</span>
<span class="lineNum">    1114 </span><span class="lineCov">        405 :   setVariable(&quot;dpt&quot;,     dpt);</span>
<span class="lineNum">    1115 </span>            : 
<span class="lineNum">    1116 </span>            :   // Mass
<span class="lineNum">    1117 </span>            : 
<span class="lineNum">    1118 </span><span class="lineCov">        405 :   const double g = 0.001*kg;</span>
<span class="lineNum">    1119 </span><span class="lineCov">        405 :   setVariable(&quot;gram&quot;, g);</span>
<span class="lineNum">    1120 </span><span class="lineCov">        405 :   setVariable(&quot;g&quot;,    g);</span>
<span class="lineNum">    1121 </span><span class="lineCov">        405 :   setVariable(&quot;milligram&quot;,   milli_ * g);</span>
<span class="lineNum">    1122 </span><span class="lineCov">        405 :   setVariable(&quot;mg&quot;,          milli_ * g);</span>
<span class="lineNum">    1123 </span>            :   
<span class="lineNum">    1124 </span>            :   // Time
<span class="lineNum">    1125 </span>            : 
<span class="lineNum">    1126 </span><span class="lineCov">        405 :   setVariable(&quot;millisecond&quot;, milli_ * s);</span>
<span class="lineNum">    1127 </span><span class="lineCov">        405 :   setVariable(&quot;ms&quot;,          milli_ * s);</span>
<span class="lineNum">    1128 </span><span class="lineCov">        405 :   setVariable(&quot;microsecond&quot;, micro_ * s);</span>
<span class="lineNum">    1129 </span><span class="lineCov">        405 :   setVariable(&quot;nanosecond&quot;,  nano_  * s);</span>
<span class="lineNum">    1130 </span><span class="lineCov">        405 :   setVariable(&quot;ns&quot;,          nano_  * s);</span>
<span class="lineNum">    1131 </span><span class="lineCov">        405 :   setVariable(&quot;picosecond&quot;,  pico_  * s);</span>
<span class="lineNum">    1132 </span>            : 
<span class="lineNum">    1133 </span>            :   // Current
<span class="lineNum">    1134 </span>            : 
<span class="lineNum">    1135 </span><span class="lineCov">        405 :   setVariable(&quot;milliampere&quot;, milli_ * A);</span>
<span class="lineNum">    1136 </span><span class="lineCov">        405 :   setVariable(&quot;mA&quot;,          milli_ * A);</span>
<span class="lineNum">    1137 </span><span class="lineCov">        405 :   setVariable(&quot;microampere&quot;, micro_ * A);</span>
<span class="lineNum">    1138 </span><span class="lineCov">        405 :   setVariable(&quot;nanoampere&quot;,  nano_  * A);</span>
<span class="lineNum">    1139 </span>            : 
<span class="lineNum">    1140 </span>            :   // Frequency
<span class="lineNum">    1141 </span>            : 
<span class="lineNum">    1142 </span><span class="lineCov">        405 :   setVariable(&quot;kilohertz&quot;,   kilo_ * Hz);</span>
<span class="lineNum">    1143 </span><span class="lineCov">        405 :   setVariable(&quot;kHz&quot;,         kilo_ * Hz);</span>
<span class="lineNum">    1144 </span><span class="lineCov">        405 :   setVariable(&quot;megahertz&quot;,   mega_ * Hz);</span>
<span class="lineNum">    1145 </span><span class="lineCov">        405 :   setVariable(&quot;MHz&quot;,         mega_ * Hz);</span>
<span class="lineNum">    1146 </span>            : 
<span class="lineNum">    1147 </span>            :   // Force
<span class="lineNum">    1148 </span><span class="lineCov">        405 :   setVariable(&quot;kilonewton&quot;,  kilo_ * N);</span>
<span class="lineNum">    1149 </span><span class="lineCov">        405 :   setVariable(&quot;kN&quot;,          kilo_ * N);</span>
<span class="lineNum">    1150 </span>            : 
<span class="lineNum">    1151 </span>            :   // Pressure
<span class="lineNum">    1152 </span><span class="lineCov">        405 :   setVariable(&quot;kilobar&quot;,     kilo_ * bar);</span>
<span class="lineNum">    1153 </span><span class="lineCov">        405 :   setVariable(&quot;kbar&quot;,        kilo_ * bar);</span>
<span class="lineNum">    1154 </span><span class="lineCov">        405 :   setVariable(&quot;millibar&quot;,    milli_ * bar);</span>
<span class="lineNum">    1155 </span><span class="lineCov">        405 :   setVariable(&quot;mbar&quot;,        milli_ * bar);</span>
<span class="lineNum">    1156 </span>            : 
<span class="lineNum">    1157 </span>            :   // Energy
<span class="lineNum">    1158 </span><span class="lineCov">        405 :   setVariable(&quot;kilojoule&quot;,   kilo_ * J);</span>
<span class="lineNum">    1159 </span><span class="lineCov">        405 :   setVariable(&quot;kJ&quot;,          kilo_ * J);</span>
<span class="lineNum">    1160 </span><span class="lineCov">        405 :   setVariable(&quot;megajoule&quot;,   mega_ * J);</span>
<span class="lineNum">    1161 </span><span class="lineCov">        405 :   setVariable(&quot;MJ&quot;,          mega_ * J);</span>
<span class="lineNum">    1162 </span><span class="lineCov">        405 :   setVariable(&quot;gigajoule&quot;,   giga_ * J);</span>
<span class="lineNum">    1163 </span><span class="lineCov">        405 :   setVariable(&quot;GJ&quot;,          giga_ * J);</span>
<span class="lineNum">    1164 </span>            : 
<span class="lineNum">    1165 </span><span class="lineCov">        405 :   const double e_SI  = 1.60217733e-19;  // positron charge in coulomb</span>
<span class="lineNum">    1166 </span><span class="lineCov">        405 :   const double ePlus = e_SI * C;        // positron charge</span>
<span class="lineNum">    1167 </span><span class="lineCov">        405 :   const double eV    = ePlus * V;</span>
<span class="lineNum">    1168 </span><span class="lineCov">        405 :   setVariable(&quot;electronvolt&quot;, eV);</span>
<span class="lineNum">    1169 </span><span class="lineCov">        405 :   setVariable(&quot;eV&quot;,           eV);</span>
<span class="lineNum">    1170 </span><span class="lineCov">        405 :   setVariable(&quot;kiloelectronvolt&quot;, kilo_ * eV);</span>
<span class="lineNum">    1171 </span><span class="lineCov">        405 :   setVariable(&quot;keV&quot;,              kilo_ * eV);</span>
<span class="lineNum">    1172 </span><span class="lineCov">        405 :   setVariable(&quot;megaelectronvolt&quot;, mega_ * eV);</span>
<span class="lineNum">    1173 </span><span class="lineCov">        405 :   setVariable(&quot;MeV&quot;,              mega_ * eV);</span>
<span class="lineNum">    1174 </span><span class="lineCov">        405 :   setVariable(&quot;gigaelectronvolt&quot;, giga_ * eV);</span>
<span class="lineNum">    1175 </span><span class="lineCov">        405 :   setVariable(&quot;GeV&quot;,              giga_ * eV);</span>
<span class="lineNum">    1176 </span><span class="lineCov">        405 :   setVariable(&quot;teraelectronvolt&quot;, tera_ * eV);</span>
<span class="lineNum">    1177 </span><span class="lineCov">        405 :   setVariable(&quot;TeV&quot;,              tera_ * eV);</span>
<span class="lineNum">    1178 </span><span class="lineCov">        405 :   setVariable(&quot;petaelectronvolt&quot;, peta_ * eV);</span>
<span class="lineNum">    1179 </span><span class="lineCov">        405 :   setVariable(&quot;PeV&quot;,              peta_ * eV);</span>
<span class="lineNum">    1180 </span>            : 
<span class="lineNum">    1181 </span>            :   // Power
<span class="lineNum">    1182 </span><span class="lineCov">        405 :   setVariable(&quot;kilowatt&quot;,    kilo_ * W);</span>
<span class="lineNum">    1183 </span><span class="lineCov">        405 :   setVariable(&quot;kW&quot;,          kilo_ * W);</span>
<span class="lineNum">    1184 </span><span class="lineCov">        405 :   setVariable(&quot;megawatt&quot;,    mega_ * W);</span>
<span class="lineNum">    1185 </span><span class="lineCov">        405 :   setVariable(&quot;MW&quot;,          mega_ * W);</span>
<span class="lineNum">    1186 </span><span class="lineCov">        405 :   setVariable(&quot;gigawatt&quot;,    giga_ * W);</span>
<span class="lineNum">    1187 </span><span class="lineCov">        405 :   setVariable(&quot;GW&quot;,          giga_ * W);</span>
<span class="lineNum">    1188 </span>            : 
<span class="lineNum">    1189 </span>            :   // Electric potential  
<span class="lineNum">    1190 </span><span class="lineCov">        405 :   setVariable(&quot;kilovolt&quot;,    kilo_ * V);</span>
<span class="lineNum">    1191 </span><span class="lineCov">        405 :   setVariable(&quot;kV&quot;,          kilo_ * V);</span>
<span class="lineNum">    1192 </span><span class="lineCov">        405 :   setVariable(&quot;megavolt&quot;,    mega_ * V);</span>
<span class="lineNum">    1193 </span><span class="lineCov">        405 :   setVariable(&quot;MV&quot;,          mega_ * V);</span>
<span class="lineNum">    1194 </span>            : 
<span class="lineNum">    1195 </span>            :   // Electric capacitance
<span class="lineNum">    1196 </span><span class="lineCov">        405 :   setVariable(&quot;millifarad&quot;,  milli_ * F);</span>
<span class="lineNum">    1197 </span><span class="lineCov">        405 :   setVariable(&quot;mF&quot;,          milli_ * F);</span>
<span class="lineNum">    1198 </span><span class="lineCov">        405 :   setVariable(&quot;microfarad&quot;,  micro_ * F);</span>
<span class="lineNum">    1199 </span><span class="lineCov">        405 :   setVariable(&quot;uF&quot;,          micro_ * F);</span>
<span class="lineNum">    1200 </span><span class="lineCov">        405 :   setVariable(&quot;nanofarad&quot;,   nano_  * F);</span>
<span class="lineNum">    1201 </span><span class="lineCov">        405 :   setVariable(&quot;nF&quot;,          nano_  * F);</span>
<span class="lineNum">    1202 </span><span class="lineCov">        405 :   setVariable(&quot;picofarad&quot;,   pico_  * F);</span>
<span class="lineNum">    1203 </span><span class="lineCov">        405 :   setVariable(&quot;pF&quot;,          pico_  * F);</span>
<span class="lineNum">    1204 </span>            : 
<span class="lineNum">    1205 </span>            :   // Magnetic flux density
<span class="lineNum">    1206 </span><span class="lineCov">        405 :   setVariable(&quot;kilogauss&quot;,   kilo_ * Gs);</span>
<span class="lineNum">    1207 </span><span class="lineCov">        405 :   setVariable(&quot;kGs&quot;,         kilo_ * Gs);</span>
<a name="1208"><span class="lineNum">    1208 </span><span class="lineCov">        405 : }</span></a>
<span class="lineNum">    1209 </span>            : 
<span class="lineNum">    1210 </span><span class="lineCov">         90 : } // namespace HepTool</span>
</pre>
      </td>
    </tr>
  </table>
  <br>

  <table width="100%" border=0 cellspacing=0 cellpadding=0>
    <tr><td class="ruler"><img src="../glass.png" width=3 height=3 alt=""></td></tr>
    <tr><td class="versionInfo">Generated by: <a href="http://ltp.sourceforge.net/coverage/lcov.php" target="_parent">LCOV version 1.12</a></td></tr>
  </table>
  <br>

</body>
</html>
